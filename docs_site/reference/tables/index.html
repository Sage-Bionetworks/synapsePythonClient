
<!doctype html>
<html lang="en" class="no-js">
  <head>

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">

        <meta name="description" content="A Python client for Sage Bionetworks' Synapse, a collaborative, open-source research platform that allows teams to share data, track analyses, and collaborate. The Python client can be used as a library for development of software that communicates with Synapse or as a command-line utility.">


        <meta name="author" content="Bryan Fauble">



        <link rel="prev" href="../annotations/">


        <link rel="next" href="../table_schema/">


      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">



        <title>Tables - Synapse Python/Command Line Client Documentation</title>



      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">


        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">











  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');}</style>











        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>



      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">

      <link rel="stylesheet" href="../../css/custom.css">

      <link rel="stylesheet" href="../../termynal.css">

    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>






  </head>









    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">


    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">


        <a href="#synapseclient.table" class="md-skip">
          Skip to content
        </a>

    </div>
    <div data-md-component="announce">

    </div>






<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Synapse Python/Command Line Client Documentation" class="md-header__button md-logo" aria-label="Synapse Python/Command Line Client Documentation" data-md-component="logo">

  <img src="../../assets/synapse_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">

      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Synapse Python/Command Line Client Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">

              Tables

          </span>
        </div>
      </div>
    </div>


        <form class="md-header__option" data-md-component="palette">




    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">

      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>





    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">

      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>


</form>



      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>



      <label class="md-header__button md-icon" for="__search">

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">

          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">

            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>

        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>

        <div class="md-search__suggest" data-md-component="search-suggest"></div>

    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>


      <div class="md-header__source">
        <a href="https://github.com/Sage-Bionetworks/synapsePythonClient" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    synapsePythonClient
  </div>
</a>
      </div>

  </nav>



<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">





    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">




  Home

      </a>
    </li>









      <li class="md-tabs__item">
        <a href="../../tutorials/installation/" class="md-tabs__link">


  Tutorials

        </a>
      </li>










      <li class="md-tabs__item">
        <a href="../../guides/views/" class="md-tabs__link">


  How-To Guides

        </a>
      </li>












      <li class="md-tabs__item md-tabs__item--active">
        <a href="../client/" class="md-tabs__link">


  API Reference

        </a>
      </li>










      <li class="md-tabs__item">
        <a href="../../explanations/access_control/" class="md-tabs__link">


  Further Reading

        </a>
      </li>










      <li class="md-tabs__item">
        <a href="../../news/" class="md-tabs__link">


  News

        </a>
      </li>




    </ul>
  </div>
</nav>


</header>

    <div class="md-container" data-md-component="container">




      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">



              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">






<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Synapse Python/Command Line Client Documentation" class="md-nav__button md-logo" aria-label="Synapse Python/Command Line Client Documentation" data-md-component="logo">

  <img src="../../assets/synapse_logo.png" alt="logo">

    </a>
    Synapse Python/Command Line Client Documentation
  </label>

    <div class="md-nav__source">
      <a href="https://github.com/Sage-Bionetworks/synapsePythonClient" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    synapsePythonClient
  </div>
</a>
    </div>

  <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">


  <span class="md-ellipsis">
    Home
  </span>


      </a>
    </li>

















    <li class="md-nav__item md-nav__item--section md-nav__item--nested">




        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >


          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">


  <span class="md-ellipsis">
    Tutorials
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../tutorials/installation/" class="md-nav__link">


  <span class="md-ellipsis">
    Installation
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tutorials/authentication/" class="md-nav__link">


  <span class="md-ellipsis">
    Authentication
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tutorials/configuration/" class="md-nav__link">


  <span class="md-ellipsis">
    Configuration
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tutorials/python_client/" class="md-nav__link">


  <span class="md-ellipsis">
    Working with the Python client
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tutorials/command_line_client/" class="md-nav__link">


  <span class="md-ellipsis">
    Working with the Command Line Client
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tutorials/file_versioning/" class="md-nav__link">


  <span class="md-ellipsis">
    Working with file versioning
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tutorials/tables/" class="md-nav__link">


  <span class="md-ellipsis">
    Working with tables
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tutorials/reticulate/" class="md-nav__link">


  <span class="md-ellipsis">
    Synapseclient with R through reticulate
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>

















    <li class="md-nav__item md-nav__item--section md-nav__item--nested">




        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >


          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">


  <span class="md-ellipsis">
    How-To Guides
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            How-To Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../guides/views/" class="md-nav__link">


  <span class="md-ellipsis">
    Using Entity Views
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../guides/data_storage/" class="md-nav__link">


  <span class="md-ellipsis">
    Data Storage
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../guides/accessing_the_rest_api/" class="md-nav__link">


  <span class="md-ellipsis">
    Access the REST API
  </span>


      </a>
    </li>


















    <li class="md-nav__item md-nav__item--section md-nav__item--nested">




        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >


          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">


  <span class="md-ellipsis">
    Expermental Features
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Expermental Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../guides/validate_annotations/" class="md-nav__link">


  <span class="md-ellipsis">
    Validating Annotations
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>




          </ul>
        </nav>

    </li>



















    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">




        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>


          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">


  <span class="md-ellipsis">
    API Reference
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../client/" class="md-nav__link">


  <span class="md-ellipsis">
    Client
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../synapse_utils/" class="md-nav__link">


  <span class="md-ellipsis">
    Synapse Utils
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../entity/" class="md-nav__link">


  <span class="md-ellipsis">
    Entity
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">


  <span class="md-ellipsis">
    Project
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../folder/" class="md-nav__link">


  <span class="md-ellipsis">
    Folder
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../file/" class="md-nav__link">


  <span class="md-ellipsis">
    File
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../annotations/" class="md-nav__link">


  <span class="md-ellipsis">
    Annotations
  </span>


      </a>
    </li>












    <li class="md-nav__item md-nav__item--active">

      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">



        <label class="md-nav__link md-nav__link--active" for="__toc">


  <span class="md-ellipsis">
    Tables
  </span>


          <span class="md-nav__icon md-icon"></span>
        </label>

      <a href="./" class="md-nav__link md-nav__link--active">


  <span class="md-ellipsis">
    Tables
  </span>


      </a>



<nav class="md-nav md-nav--secondary" aria-label="Table of contents">




    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>

        <li class="md-nav__item">
  <a href="#synapseclient.table" class="md-nav__link">
    <span class="md-ellipsis">
      table
    </span>
  </a>

    <nav class="md-nav" aria-label="table">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table--tables" class="md-nav__link">
    <span class="md-ellipsis">
      Tables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>

    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase" class="md-nav__link">
    <span class="md-ellipsis">
      SchemaBase
    </span>
  </a>

    <nav class="md-nav" aria-label="SchemaBase">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.addColumn" class="md-nav__link">
    <span class="md-ellipsis">
      addColumn()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.addColumns" class="md-nav__link">
    <span class="md-ellipsis">
      addColumns()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.removeColumn" class="md-nav__link">
    <span class="md-ellipsis">
      removeColumn()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.has_columns" class="md-nav__link">
    <span class="md-ellipsis">
      has_columns()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Schema" class="md-nav__link">
    <span class="md-ellipsis">
      Schema
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.MaterializedViewSchema" class="md-nav__link">
    <span class="md-ellipsis">
      MaterializedViewSchema
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.ViewBase" class="md-nav__link">
    <span class="md-ellipsis">
      ViewBase
    </span>
  </a>

    <nav class="md-nav" aria-label="ViewBase">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.ViewBase-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.ViewBase.add_scope" class="md-nav__link">
    <span class="md-ellipsis">
      add_scope()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset
    </span>
  </a>

    <nav class="md-nav" aria-label="Dataset">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_item" class="md-nav__link">
    <span class="md-ellipsis">
      add_item()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_items" class="md-nav__link">
    <span class="md-ellipsis">
      add_items()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.has_item" class="md-nav__link">
    <span class="md-ellipsis">
      has_item()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_folder" class="md-nav__link">
    <span class="md-ellipsis">
      add_folder()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_folders" class="md-nav__link">
    <span class="md-ellipsis">
      add_folders()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.EntityViewSchema" class="md-nav__link">
    <span class="md-ellipsis">
      EntityViewSchema
    </span>
  </a>

    <nav class="md-nav" aria-label="EntityViewSchema">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.EntityViewSchema-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.EntityViewSchema.set_entity_types" class="md-nav__link">
    <span class="md-ellipsis">
      set_entity_types()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SubmissionViewSchema" class="md-nav__link">
    <span class="md-ellipsis">
      SubmissionViewSchema
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SelectColumn" class="md-nav__link">
    <span class="md-ellipsis">
      SelectColumn
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Column" class="md-nav__link">
    <span class="md-ellipsis">
      Column
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.AppendableRowset" class="md-nav__link">
    <span class="md-ellipsis">
      AppendableRowset
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRowset" class="md-nav__link">
    <span class="md-ellipsis">
      PartialRowset
    </span>
  </a>

    <nav class="md-nav" aria-label="PartialRowset">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRowset-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRowset.from_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      from_mapping()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.RowSet" class="md-nav__link">
    <span class="md-ellipsis">
      RowSet
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Row" class="md-nav__link">
    <span class="md-ellipsis">
      Row
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRow" class="md-nav__link">
    <span class="md-ellipsis">
      PartialRow
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableAbstractBaseClass" class="md-nav__link">
    <span class="md-ellipsis">
      TableAbstractBaseClass
    </span>
  </a>

    <nav class="md-nav" aria-label="TableAbstractBaseClass">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableAbstractBaseClass-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableAbstractBaseClass.iter_row_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      iter_row_metadata()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.RowSetTable" class="md-nav__link">
    <span class="md-ellipsis">
      RowSetTable
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult" class="md-nav__link">
    <span class="md-ellipsis">
      TableQueryResult
    </span>
  </a>

    <nav class="md-nav" aria-label="TableQueryResult">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult.asDataFrame" class="md-nav__link">
    <span class="md-ellipsis">
      asDataFrame()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult.next" class="md-nav__link">
    <span class="md-ellipsis">
      next()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult.iter_row_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      iter_row_metadata()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable" class="md-nav__link">
    <span class="md-ellipsis">
      CsvFileTable
    </span>
  </a>

    <nav class="md-nav" aria-label="CsvFileTable">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.from_table_query" class="md-nav__link">
    <span class="md-ellipsis">
      from_table_query()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.asDataFrame" class="md-nav__link">
    <span class="md-ellipsis">
      asDataFrame()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.setColumnHeaders" class="md-nav__link">
    <span class="md-ellipsis">
      setColumnHeaders()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.iter_row_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      iter_row_metadata()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.as_table_columns" class="md-nav__link">
    <span class="md-ellipsis">
      as_table_columns()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.df2Table" class="md-nav__link">
    <span class="md-ellipsis">
      df2Table()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.to_boolean" class="md-nav__link">
    <span class="md-ellipsis">
      to_boolean()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.cast_values" class="md-nav__link">
    <span class="md-ellipsis">
      cast_values()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.escape_column_name" class="md-nav__link">
    <span class="md-ellipsis">
      escape_column_name()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.join_column_names" class="md-nav__link">
    <span class="md-ellipsis">
      join_column_names()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.build_table" class="md-nav__link">
    <span class="md-ellipsis">
      build_table()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Table" class="md-nav__link">
    <span class="md-ellipsis">
      Table()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

    </ul>

</nav>

    </li>










    <li class="md-nav__item">
      <a href="../table_schema/" class="md-nav__link">


  <span class="md-ellipsis">
    Table Schema
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../view_schema/" class="md-nav__link">


  <span class="md-ellipsis">
    Entity View Schema
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../activity/" class="md-nav__link">


  <span class="md-ellipsis">
    Activity/Provenance
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../teams/" class="md-nav__link">


  <span class="md-ellipsis">
    Teams
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../wiki/" class="md-nav__link">


  <span class="md-ellipsis">
    Wiki
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../evaluation/" class="md-nav__link">


  <span class="md-ellipsis">
    Evaluation
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../link/" class="md-nav__link">


  <span class="md-ellipsis">
    Link
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../docker_repository/" class="md-nav__link">


  <span class="md-ellipsis">
    DockerRepository
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../json_schema/" class="md-nav__link">


  <span class="md-ellipsis">
    JSON Schema
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">


  <span class="md-ellipsis">
    Exceptions
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../core/" class="md-nav__link">


  <span class="md-ellipsis">
    Core
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>

















    <li class="md-nav__item md-nav__item--section md-nav__item--nested">




        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >


          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">


  <span class="md-ellipsis">
    Further Reading
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Further Reading
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../explanations/access_control/" class="md-nav__link">


  <span class="md-ellipsis">
    Access Control
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../explanations/properties_vs_annotations/" class="md-nav__link">


  <span class="md-ellipsis">
    Properties vs Annotations
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../explanations/manifest_tsv/" class="md-nav__link">


  <span class="md-ellipsis">
    Manifest TSV
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../explanations/benchmarking/" class="md-nav__link">


  <span class="md-ellipsis">
    Benchmarking
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>

















    <li class="md-nav__item md-nav__item--section md-nav__item--nested">




        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >


          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">


  <span class="md-ellipsis">
    News
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            News
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../news/" class="md-nav__link">


  <span class="md-ellipsis">
    Release Notes
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>



  </ul>
</nav>
                  </div>
                </div>
              </div>



              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">




    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>

        <li class="md-nav__item">
  <a href="#synapseclient.table" class="md-nav__link">
    <span class="md-ellipsis">
      table
    </span>
  </a>

    <nav class="md-nav" aria-label="table">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table--tables" class="md-nav__link">
    <span class="md-ellipsis">
      Tables
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>

    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase" class="md-nav__link">
    <span class="md-ellipsis">
      SchemaBase
    </span>
  </a>

    <nav class="md-nav" aria-label="SchemaBase">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.addColumn" class="md-nav__link">
    <span class="md-ellipsis">
      addColumn()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.addColumns" class="md-nav__link">
    <span class="md-ellipsis">
      addColumns()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.removeColumn" class="md-nav__link">
    <span class="md-ellipsis">
      removeColumn()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SchemaBase.has_columns" class="md-nav__link">
    <span class="md-ellipsis">
      has_columns()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Schema" class="md-nav__link">
    <span class="md-ellipsis">
      Schema
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.MaterializedViewSchema" class="md-nav__link">
    <span class="md-ellipsis">
      MaterializedViewSchema
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.ViewBase" class="md-nav__link">
    <span class="md-ellipsis">
      ViewBase
    </span>
  </a>

    <nav class="md-nav" aria-label="ViewBase">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.ViewBase-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.ViewBase.add_scope" class="md-nav__link">
    <span class="md-ellipsis">
      add_scope()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset
    </span>
  </a>

    <nav class="md-nav" aria-label="Dataset">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_item" class="md-nav__link">
    <span class="md-ellipsis">
      add_item()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_items" class="md-nav__link">
    <span class="md-ellipsis">
      add_items()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.has_item" class="md-nav__link">
    <span class="md-ellipsis">
      has_item()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_folder" class="md-nav__link">
    <span class="md-ellipsis">
      add_folder()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Dataset.add_folders" class="md-nav__link">
    <span class="md-ellipsis">
      add_folders()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.EntityViewSchema" class="md-nav__link">
    <span class="md-ellipsis">
      EntityViewSchema
    </span>
  </a>

    <nav class="md-nav" aria-label="EntityViewSchema">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.EntityViewSchema-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.EntityViewSchema.set_entity_types" class="md-nav__link">
    <span class="md-ellipsis">
      set_entity_types()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SubmissionViewSchema" class="md-nav__link">
    <span class="md-ellipsis">
      SubmissionViewSchema
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.SelectColumn" class="md-nav__link">
    <span class="md-ellipsis">
      SelectColumn
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Column" class="md-nav__link">
    <span class="md-ellipsis">
      Column
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.AppendableRowset" class="md-nav__link">
    <span class="md-ellipsis">
      AppendableRowset
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRowset" class="md-nav__link">
    <span class="md-ellipsis">
      PartialRowset
    </span>
  </a>

    <nav class="md-nav" aria-label="PartialRowset">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRowset-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRowset.from_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      from_mapping()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.RowSet" class="md-nav__link">
    <span class="md-ellipsis">
      RowSet
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Row" class="md-nav__link">
    <span class="md-ellipsis">
      Row
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.PartialRow" class="md-nav__link">
    <span class="md-ellipsis">
      PartialRow
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableAbstractBaseClass" class="md-nav__link">
    <span class="md-ellipsis">
      TableAbstractBaseClass
    </span>
  </a>

    <nav class="md-nav" aria-label="TableAbstractBaseClass">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableAbstractBaseClass-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableAbstractBaseClass.iter_row_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      iter_row_metadata()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.RowSetTable" class="md-nav__link">
    <span class="md-ellipsis">
      RowSetTable
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult" class="md-nav__link">
    <span class="md-ellipsis">
      TableQueryResult
    </span>
  </a>

    <nav class="md-nav" aria-label="TableQueryResult">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult.asDataFrame" class="md-nav__link">
    <span class="md-ellipsis">
      asDataFrame()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult.next" class="md-nav__link">
    <span class="md-ellipsis">
      next()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.TableQueryResult.iter_row_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      iter_row_metadata()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable" class="md-nav__link">
    <span class="md-ellipsis">
      CsvFileTable
    </span>
  </a>

    <nav class="md-nav" aria-label="CsvFileTable">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.from_table_query" class="md-nav__link">
    <span class="md-ellipsis">
      from_table_query()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.asDataFrame" class="md-nav__link">
    <span class="md-ellipsis">
      asDataFrame()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.setColumnHeaders" class="md-nav__link">
    <span class="md-ellipsis">
      setColumnHeaders()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.CsvFileTable.iter_row_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      iter_row_metadata()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>

    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#synapseclient.table.as_table_columns" class="md-nav__link">
    <span class="md-ellipsis">
      as_table_columns()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.df2Table" class="md-nav__link">
    <span class="md-ellipsis">
      df2Table()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.to_boolean" class="md-nav__link">
    <span class="md-ellipsis">
      to_boolean()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.cast_values" class="md-nav__link">
    <span class="md-ellipsis">
      cast_values()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.escape_column_name" class="md-nav__link">
    <span class="md-ellipsis">
      escape_column_name()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.join_column_names" class="md-nav__link">
    <span class="md-ellipsis">
      join_column_names()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.build_table" class="md-nav__link">
    <span class="md-ellipsis">
      build_table()
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#synapseclient.table.Table" class="md-nav__link">
    <span class="md-ellipsis">
      Table()
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

      </ul>
    </nav>

</li>

    </ul>

</nav>
                  </div>
                </div>
              </div>



            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">







  <h1>Tables</h1>

<div class="doc doc-object doc-module">




<h2 id="synapseclient.table" class="doc doc-heading">
          <code>synapseclient.table</code>


<a href="#synapseclient.table" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-contents first">

      <h3 id="synapseclient.table--tables">Tables<a class="headerlink" href="#synapseclient.table--tables" title="Permanent link">&para;</a></h3>
<p>Synapse Tables enable storage of tabular data in Synapse in a form that can be queried using a SQL-like query language.</p>
<p>A table has a <a class="autorefs autorefs-internal" href="#synapseclient.table.Schema">Schema</a> and holds a set of rows conforming to that schema.</p>
<p>A <a class="autorefs autorefs-internal" href="#synapseclient.table.Schema">Schema</a> defines a series of <a class="autorefs autorefs-internal" href="#synapseclient.table.Column">Column</a> of the following types: </p>
<ul>
<li>STRING</li>
<li>DOUBLE</li>
<li>INTEGER</li>
<li>BOOLEAN</li>
<li>DATE</li>
<li>ENTITYID</li>
<li>FILEHANDLEID</li>
<li>LINK</li>
<li>LARGETEXT</li>
<li>USERID</li>
</ul>
<p><a href="../../tutorials/tables/">Read more information about using Table in synapse in the tutorials section</a>.</p>



  <div class="doc doc-children">






<h3 id="synapseclient.table-classes">Classes<a href="#synapseclient.table-classes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.SchemaBase" class="doc doc-heading">
          <code>SchemaBase</code>


<a href="#synapseclient.table.SchemaBase" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.entity.Entity" href="../entity/#synapseclient.entity.Entity">Entity</a></code></p>


      <p>This is the an Abstract Class for EntityViewSchema and Schema containing the common methods for both.
You can not create an object of this type.</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SchemaBase</span><span class="p">(</span><span class="n">Entity</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">abc</span><span class="o">.</span><span class="n">ABCMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the an Abstract Class for EntityViewSchema and Schema containing the common methods for both.</span>
<span class="sd">    You can not create an object of this type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_property_keys</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="n">_property_keys</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;columnIds&quot;</span><span class="p">]</span>
    <span class="n">_local_keys</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="n">_local_keys</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>  <span class="c1"># forces subclasses to define _synapse_entity_type</span>
    <span class="k">def</span> <span class="nf">_synapse_entity_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">columns</span><span class="p">,</span> <span class="n">properties</span><span class="p">,</span> <span class="n">annotations</span><span class="p">,</span> <span class="n">local_state</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;columnIds&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">,</span> <span class="p">[])</span>

        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SchemaBase</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
            <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span><span class="p">,</span>
            <span class="n">local_state</span><span class="o">=</span><span class="n">local_state</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addColumns</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addColumn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param column: a column object or its ID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">columnIds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">Column</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a column? </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">addColumns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param columns: a list of column objects or their ID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addColumn</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">removeColumn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param column: a column object or its ID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">columnIds</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">Column</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t remove column </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">has_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Does this schema have columns specified?&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columnIds&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_before_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">MAX_NUM_TABLE_COLUMNS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Too many columns. The limit is </span><span class="si">%s</span><span class="s2"> columns per table&quot;</span>
                <span class="o">%</span> <span class="n">MAX_NUM_TABLE_COLUMNS</span>
            <span class="p">)</span>

        <span class="c1"># store any columns before storing table</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">columnIds</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="n">column</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">syn</span><span class="o">.</span><span class="n">createColumns</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.SchemaBase-functions">Functions<a href="#synapseclient.table.SchemaBase-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.SchemaBase.addColumn" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">addColumn</span><span class="p">(</span><span class="n">column</span><span class="p">)</span></code>

<a href="#synapseclient.table.SchemaBase.addColumn" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param column: a column object or its ID</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addColumn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param column: a column object or its ID</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">columnIds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">Column</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a column? </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.SchemaBase.addColumns" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">addColumns</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span></code>

<a href="#synapseclient.table.SchemaBase.addColumns" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param columns: a list of column objects or their ID</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addColumns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param columns: a list of column objects or their ID</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addColumn</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.SchemaBase.removeColumn" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">removeColumn</span><span class="p">(</span><span class="n">column</span><span class="p">)</span></code>

<a href="#synapseclient.table.SchemaBase.removeColumn" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param column: a column object or its ID</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">removeColumn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param column: a column object or its ID</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">columnIds</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">Column</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t remove column </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.SchemaBase.has_columns" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">has_columns</span><span class="p">()</span></code>

<a href="#synapseclient.table.SchemaBase.has_columns" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Does this schema have columns specified?</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">has_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Does this schema have columns specified?&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columnIds&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columns_to_store&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.Schema" class="doc doc-heading">
          <code>Schema</code>


<a href="#synapseclient.table.Schema" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.SchemaBase" href="#synapseclient.table.SchemaBase">SchemaBase</a></code></p>


      <p>A Schema is an :py:class:<code>synapseclient.entity.Entity</code> that defines a set of columns in a table.</p>
<p>:param name:            the name for the Table Schema object
:param description:     User readable description of the schema
:param columns:         a list of :py:class:<code>Column</code> objects or their IDs
:param parent:          the project in Synapse to which this table belongs
:param properties:      A map of Synapse properties
:param annotations:     A map of user defined annotations
:param local_state:     Internal use only</p>
<p>Example::</p>
<pre><code>cols = [Column(name='Isotope', columnType='STRING'),
        Column(name='Atomic Mass', columnType='INTEGER'),
        Column(name='Halflife', columnType='DOUBLE'),
        Column(name='Discovered', columnType='DATE')]

schema = syn.store(Schema(name='MyTable', columns=cols, parent=project))
</code></pre>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Schema</span><span class="p">(</span><span class="n">SchemaBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Schema is an :py:class:`synapseclient.entity.Entity` that defines a set of columns in a table.</span>

<span class="sd">    :param name:            the name for the Table Schema object</span>
<span class="sd">    :param description:     User readable description of the schema</span>
<span class="sd">    :param columns:         a list of :py:class:`Column` objects or their IDs</span>
<span class="sd">    :param parent:          the project in Synapse to which this table belongs</span>
<span class="sd">    :param properties:      A map of Synapse properties</span>
<span class="sd">    :param annotations:     A map of user defined annotations</span>
<span class="sd">    :param local_state:     Internal use only</span>

<span class="sd">    Example::</span>

<span class="sd">        cols = [Column(name=&#39;Isotope&#39;, columnType=&#39;STRING&#39;),</span>
<span class="sd">                Column(name=&#39;Atomic Mass&#39;, columnType=&#39;INTEGER&#39;),</span>
<span class="sd">                Column(name=&#39;Halflife&#39;, columnType=&#39;DOUBLE&#39;),</span>
<span class="sd">                Column(name=&#39;Discovered&#39;, columnType=&#39;DATE&#39;)]</span>

<span class="sd">        schema = syn.store(Schema(name=&#39;MyTable&#39;, columns=cols, parent=project))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_synapse_entity_type</span> <span class="o">=</span> <span class="s2">&quot;org.sagebionetworks.repo.model.table.TableEntity&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">local_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Schema</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
            <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span><span class="p">,</span>
            <span class="n">local_state</span><span class="o">=</span><span class="n">local_state</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.MaterializedViewSchema" class="doc doc-heading">
          <code>MaterializedViewSchema</code>


<a href="#synapseclient.table.MaterializedViewSchema" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.SchemaBase" href="#synapseclient.table.SchemaBase">SchemaBase</a></code></p>


      <p>A MaterializedViewSchema is an :py:class:<code>synapseclient.entity.Entity</code> that defines a set of columns in a
materialized view along with the SQL statement.</p>
<p>:param name:            the name for the Materialized View Schema object
:param description:     User readable description of the schema
:param definingSQL:     The synapse SQL statement that defines the data in the materialized view. The SQL may
                        contain JOIN clauses on multiple tables.
:param columns:         a list of :py:class:<code>Column</code> objects or their IDs
:param parent:          the project in Synapse to which this Materialized View belongs
:param properties:      A map of Synapse properties
:param annotations:     A map of user defined annotations
:param local_state:     Internal use only</p>
<p>Example::</p>
<pre><code>defining_sql = "SELECT * FROM syn111 F JOIN syn2222 P on (F.patient_id = P.patient_id)"

schema = syn.store(MaterializedViewSchema(name='MyTable', parent=project, definingSQL=defining_sql))
</code></pre>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MaterializedViewSchema</span><span class="p">(</span><span class="n">SchemaBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A MaterializedViewSchema is an :py:class:`synapseclient.entity.Entity` that defines a set of columns in a</span>
<span class="sd">    materialized view along with the SQL statement.</span>

<span class="sd">    :param name:            the name for the Materialized View Schema object</span>
<span class="sd">    :param description:     User readable description of the schema</span>
<span class="sd">    :param definingSQL:     The synapse SQL statement that defines the data in the materialized view. The SQL may</span>
<span class="sd">                            contain JOIN clauses on multiple tables.</span>
<span class="sd">    :param columns:         a list of :py:class:`Column` objects or their IDs</span>
<span class="sd">    :param parent:          the project in Synapse to which this Materialized View belongs</span>
<span class="sd">    :param properties:      A map of Synapse properties</span>
<span class="sd">    :param annotations:     A map of user defined annotations</span>
<span class="sd">    :param local_state:     Internal use only</span>

<span class="sd">    Example::</span>

<span class="sd">        defining_sql = &quot;SELECT * FROM syn111 F JOIN syn2222 P on (F.patient_id = P.patient_id)&quot;</span>

<span class="sd">        schema = syn.store(MaterializedViewSchema(name=&#39;MyTable&#39;, parent=project, definingSQL=defining_sql))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_synapse_entity_type</span> <span class="o">=</span> <span class="s2">&quot;org.sagebionetworks.repo.model.table.MaterializedView&quot;</span>
    <span class="n">_property_keys</span> <span class="o">=</span> <span class="n">SchemaBase</span><span class="o">.</span><span class="n">_property_keys</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;definingSQL&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">definingSQL</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">local_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">definingSQL</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;definingSQL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">definingSQL</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MaterializedViewSchema</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
            <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span><span class="p">,</span>
            <span class="n">local_state</span><span class="o">=</span><span class="n">local_state</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.ViewBase" class="doc doc-heading">
          <code>ViewBase</code>


<a href="#synapseclient.table.ViewBase" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.SchemaBase" href="#synapseclient.table.SchemaBase">SchemaBase</a></code></p>


      <p>This is a helper class for EntityViewSchema and SubmissionViewSchema
containing the common methods for both.</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ViewBase</span><span class="p">(</span><span class="n">SchemaBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is a helper class for EntityViewSchema and SubmissionViewSchema</span>
<span class="sd">    containing the common methods for both.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_synapse_entity_type</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">_property_keys</span> <span class="o">=</span> <span class="n">SchemaBase</span><span class="o">.</span><span class="n">_property_keys</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;viewTypeMask&quot;</span><span class="p">,</span> <span class="s2">&quot;scopeIds&quot;</span><span class="p">]</span>
    <span class="n">_local_keys</span> <span class="o">=</span> <span class="n">SchemaBase</span><span class="o">.</span><span class="n">_local_keys</span> <span class="o">+</span> <span class="p">[</span>
        <span class="s2">&quot;addDefaultViewColumns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;addAnnotationColumns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ignoredAnnotationColumnNames&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">add_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entities</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param entities: a Project, Folder, Evaluation object or its ID, can also be a list of them</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entities</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="c1"># add ids to a temp list so that we don&#39;t partially modify scopeIds on an exception in id_of()</span>
            <span class="n">temp_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">id_of</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span> <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">temp_list</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">entities</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_filter_duplicate_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">,</span> <span class="n">columns_to_add</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If a column to be added has the same name and same type as an existing column, it will be considered a duplicate</span>
<span class="sd">         and not added.</span>
<span class="sd">        :param syn:             a :py:class:`synapseclient.client.Synapse` object that is logged in</span>
<span class="sd">        :param columns_to_add:  iterable collection of type :py:class:`synapseclient.table.Column` objects</span>
<span class="sd">        :return: a filtered list of columns to add</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># no point in making HTTP calls to retrieve existing Columns if we not adding any new columns</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">columns_to_add</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">columns_to_add</span>

        <span class="c1"># set up Column name/type tracking</span>
        <span class="c1"># map of str -&gt; set(str), where str is the column type as a string and set is a set of column name strings</span>
        <span class="n">column_type_to_annotation_names</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># add to existing columns the columns that user has added but not yet created in synapse</span>
        <span class="n">column_generator</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">syn</span><span class="o">.</span><span class="n">getColumns</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnIds</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns_to_store</span>
            <span class="k">else</span> <span class="n">syn</span><span class="o">.</span><span class="n">getColumns</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnIds</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">column_generator</span><span class="p">:</span>
            <span class="n">column_name</span> <span class="o">=</span> <span class="n">column</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="n">column_type</span> <span class="o">=</span> <span class="n">column</span><span class="p">[</span><span class="s2">&quot;columnType&quot;</span><span class="p">]</span>

            <span class="n">column_type_to_annotation_names</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">column_type</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                <span class="n">column_name</span>
            <span class="p">)</span>

        <span class="n">valid_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns_to_add</span><span class="p">:</span>
            <span class="n">new_col_name</span> <span class="o">=</span> <span class="n">column</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="n">new_col_type</span> <span class="o">=</span> <span class="n">column</span><span class="p">[</span><span class="s2">&quot;columnType&quot;</span><span class="p">]</span>

            <span class="n">typed_col_name_set</span> <span class="o">=</span> <span class="n">column_type_to_annotation_names</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span>
                <span class="n">new_col_type</span><span class="p">,</span> <span class="nb">set</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">new_col_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">typed_col_name_set</span><span class="p">:</span>
                <span class="n">typed_col_name_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_col_name</span><span class="p">)</span>
                <span class="n">valid_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">valid_columns</span>

    <span class="k">def</span> <span class="nf">_before_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="c1"># get the default EntityView columns from Synapse and add them to the columns list</span>
        <span class="n">additional_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">view_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_synapse_entity_type</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;viewTypeMask&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">addDefaultViewColumns</span><span class="p">:</span>
            <span class="n">additional_columns</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="n">syn</span><span class="o">.</span><span class="n">_get_default_view_columns</span><span class="p">(</span><span class="n">view_type</span><span class="p">,</span> <span class="n">view_type_mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># get default annotations</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">addAnnotationColumns</span><span class="p">:</span>
            <span class="n">anno_columns</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">x</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">syn</span><span class="o">.</span><span class="n">_get_annotation_view_columns</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span><span class="p">,</span> <span class="n">view_type</span><span class="p">,</span> <span class="n">view_type_mask</span><span class="o">=</span><span class="n">mask</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignoredAnnotationColumnNames</span>
            <span class="p">]</span>
            <span class="n">additional_columns</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">anno_columns</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addColumns</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_filter_duplicate_columns</span><span class="p">(</span><span class="n">syn</span><span class="p">,</span> <span class="n">additional_columns</span><span class="p">))</span>

        <span class="c1"># set these boolean flags to false so they are not repeated.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDefaultViewColumns</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAnnotationColumns</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">ViewBase</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_before_synapse_store</span><span class="p">(</span><span class="n">syn</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.ViewBase-functions">Functions<a href="#synapseclient.table.ViewBase-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.ViewBase.add_scope" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_scope</span><span class="p">(</span><span class="n">entities</span><span class="p">)</span></code>

<a href="#synapseclient.table.ViewBase.add_scope" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param entities: a Project, Folder, Evaluation object or its ID, can also be a list of them</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entities</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param entities: a Project, Folder, Evaluation object or its ID, can also be a list of them</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entities</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="c1"># add ids to a temp list so that we don&#39;t partially modify scopeIds on an exception in id_of()</span>
        <span class="n">temp_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">id_of</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span> <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">temp_list</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_of</span><span class="p">(</span><span class="n">entities</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.Dataset" class="doc doc-heading">
          <code>Dataset</code>


<a href="#synapseclient.table.Dataset" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.ViewBase" href="#synapseclient.table.ViewBase">ViewBase</a></code></p>


      <p>A Dataset is an :py:class:<code>synapseclient.entity.Entity</code> that defines a
flat list of entities as a tableview (a.k.a. a "dataset").</p>
<p>:param name:            The name for the Dataset object
:param description:     User readable description of the schema
:param columns:         A list of :py:class:<code>Column</code> objects or their IDs
:param parent:          The Synapse Project to which this Dataset belongs
:param properties:      A map of Synapse properties
:param annotations:     A map of user defined annotations
:param dataset_items:   A list of items characterized by entityId and versionNumber
:param folder:          A list of Folder IDs
:param local_state:     Internal use only</p>
<p>Example::</p>
<pre><code>from synapseclient import Dataset

# Create a Dataset with pre-defined DatasetItems. Default Dataset columns
# are used if no schema is provided.
dataset_items = [
    {'entityId': "syn000", 'versionNumber': 1},
    {...},
]
dataset = syn.store(Dataset(
    name="My Dataset",
    parent=project,
    dataset_items=dataset_items))

# Add/remove specific Synapse IDs to/from the Dataset
dataset.add_item({'entityId': "syn111", 'versionNumber': 1})
dataset.remove_item("syn000")
dataset = syn.store(dataset)

# Add a list of Synapse IDs to the Dataset
new_items = [
    {'entityId': "syn222", 'versionNumber': 2},
    {'entityId': "syn333", 'versionNumber': 1}
]
dataset.add_items(new_items)
dataset = syn.store(dataset)
</code></pre>
<p>Folders can easily be added recursively to a dataset, that is, all files
within the folder (including sub-folders) will be added.  Note that using
the following methods will add files with the latest version number ONLY.
If another version number is desired, use :py:meth:<code>synapseclient.table.add_item</code>
or :py:meth:<code>synapseclient.table.add_items</code>.</p>
<p>Example::</p>
<pre><code># Add a single Folder to the Dataset
dataset.add_folder("syn123")

# Add a list of Folders, overwriting any existing files in the dataset
dataset.add_folders(["syn456", "syn789"], force=True)

dataset = syn.store(dataset)
</code></pre>
<p>empty() can be used to truncate a dataset, that is, remove all current
items from the set.</p>
<p>Example::</p>
<pre><code>dataset.empty()
dataset = syn.store(dataset)
</code></pre>
<p>To get the number of entities in the dataset, use len().</p>
<p>Example::</p>
<pre><code>print(f"{dataset.name} has {len(dataset)} items.")
</code></pre>
<p>To create a snapshot version of the Dataset, use
:py:meth:<code>synapseclient.client.create_snapshot_version</code>.</p>
<p>Example::</p>
<pre><code>syn = synapseclient.login()
syn.create_snapshot_version(
    dataset.id,
    label="v1.0",
    comment="This is version 1")
</code></pre>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Dataset</span><span class="p">(</span><span class="n">ViewBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Dataset is an :py:class:`synapseclient.entity.Entity` that defines a</span>
<span class="sd">    flat list of entities as a tableview (a.k.a. a &quot;dataset&quot;).</span>

<span class="sd">    :param name:            The name for the Dataset object</span>
<span class="sd">    :param description:     User readable description of the schema</span>
<span class="sd">    :param columns:         A list of :py:class:`Column` objects or their IDs</span>
<span class="sd">    :param parent:          The Synapse Project to which this Dataset belongs</span>
<span class="sd">    :param properties:      A map of Synapse properties</span>
<span class="sd">    :param annotations:     A map of user defined annotations</span>
<span class="sd">    :param dataset_items:   A list of items characterized by entityId and versionNumber</span>
<span class="sd">    :param folder:          A list of Folder IDs</span>
<span class="sd">    :param local_state:     Internal use only</span>

<span class="sd">    Example::</span>

<span class="sd">        from synapseclient import Dataset</span>

<span class="sd">        # Create a Dataset with pre-defined DatasetItems. Default Dataset columns</span>
<span class="sd">        # are used if no schema is provided.</span>
<span class="sd">        dataset_items = [</span>
<span class="sd">            {&#39;entityId&#39;: &quot;syn000&quot;, &#39;versionNumber&#39;: 1},</span>
<span class="sd">            {...},</span>
<span class="sd">        ]</span>
<span class="sd">        dataset = syn.store(Dataset(</span>
<span class="sd">            name=&quot;My Dataset&quot;,</span>
<span class="sd">            parent=project,</span>
<span class="sd">            dataset_items=dataset_items))</span>

<span class="sd">        # Add/remove specific Synapse IDs to/from the Dataset</span>
<span class="sd">        dataset.add_item({&#39;entityId&#39;: &quot;syn111&quot;, &#39;versionNumber&#39;: 1})</span>
<span class="sd">        dataset.remove_item(&quot;syn000&quot;)</span>
<span class="sd">        dataset = syn.store(dataset)</span>

<span class="sd">        # Add a list of Synapse IDs to the Dataset</span>
<span class="sd">        new_items = [</span>
<span class="sd">            {&#39;entityId&#39;: &quot;syn222&quot;, &#39;versionNumber&#39;: 2},</span>
<span class="sd">            {&#39;entityId&#39;: &quot;syn333&quot;, &#39;versionNumber&#39;: 1}</span>
<span class="sd">        ]</span>
<span class="sd">        dataset.add_items(new_items)</span>
<span class="sd">        dataset = syn.store(dataset)</span>

<span class="sd">    Folders can easily be added recursively to a dataset, that is, all files</span>
<span class="sd">    within the folder (including sub-folders) will be added.  Note that using</span>
<span class="sd">    the following methods will add files with the latest version number ONLY.</span>
<span class="sd">    If another version number is desired, use :py:meth:`synapseclient.table.add_item`</span>
<span class="sd">    or :py:meth:`synapseclient.table.add_items`.</span>

<span class="sd">    Example::</span>

<span class="sd">        # Add a single Folder to the Dataset</span>
<span class="sd">        dataset.add_folder(&quot;syn123&quot;)</span>

<span class="sd">        # Add a list of Folders, overwriting any existing files in the dataset</span>
<span class="sd">        dataset.add_folders([&quot;syn456&quot;, &quot;syn789&quot;], force=True)</span>

<span class="sd">        dataset = syn.store(dataset)</span>

<span class="sd">    empty() can be used to truncate a dataset, that is, remove all current</span>
<span class="sd">    items from the set.</span>

<span class="sd">    Example::</span>

<span class="sd">        dataset.empty()</span>
<span class="sd">        dataset = syn.store(dataset)</span>

<span class="sd">    To get the number of entities in the dataset, use len().</span>

<span class="sd">    Example::</span>

<span class="sd">        print(f&quot;{dataset.name} has {len(dataset)} items.&quot;)</span>

<span class="sd">    To create a snapshot version of the Dataset, use</span>
<span class="sd">    :py:meth:`synapseclient.client.create_snapshot_version`.</span>

<span class="sd">    Example::</span>

<span class="sd">        syn = synapseclient.login()</span>
<span class="sd">        syn.create_snapshot_version(</span>
<span class="sd">            dataset.id,</span>
<span class="sd">            label=&quot;v1.0&quot;,</span>
<span class="sd">            comment=&quot;This is version 1&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_synapse_entity_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;org.sagebionetworks.repo.model.table.Dataset&quot;</span>
    <span class="n">_property_keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">ViewBase</span><span class="o">.</span><span class="n">_property_keys</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;datasetItems&quot;</span><span class="p">]</span>
    <span class="n">_local_keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">ViewBase</span><span class="o">.</span><span class="n">_local_keys</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">,</span> <span class="s2">&quot;force&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">addDefaultViewColumns</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">addAnnotationColumns</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">ignoredAnnotationColumnNames</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">local_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dataset_items</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">folders</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;datasetItems&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ignoredAnnotationColumnNames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">ignoredAnnotationColumnNames</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewTypeMask</span> <span class="o">=</span> <span class="n">EntityViewType</span><span class="o">.</span><span class="n">DATASET</span><span class="o">.</span><span class="n">value</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
            <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span><span class="p">,</span>
            <span class="n">local_state</span><span class="o">=</span><span class="n">local_state</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>
        <span class="k">if</span> <span class="n">dataset_items</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">dataset_items</span><span class="p">,</span> <span class="n">force</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">folders</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_folders</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="n">force</span><span class="p">)</span>

        <span class="c1"># HACK: make sure we don&#39;t try to add columns to schemas that we retrieve from synapse</span>
        <span class="n">is_from_normal_constructor</span> <span class="o">=</span> <span class="ow">not</span> <span class="p">(</span><span class="n">properties</span> <span class="ow">or</span> <span class="n">local_state</span><span class="p">)</span>
        <span class="c1"># allowing annotations because user might want to update annotations all at once</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDefaultViewColumns</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">addDefaultViewColumns</span> <span class="ow">and</span> <span class="n">is_from_normal_constructor</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAnnotationColumns</span> <span class="o">=</span> <span class="n">addAnnotationColumns</span> <span class="ow">and</span> <span class="n">is_from_normal_constructor</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_check_needed_keys</span><span class="p">(</span><span class="n">keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="n">required_keys</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;entityId&quot;</span><span class="p">,</span> <span class="s2">&quot;versionNumber&quot;</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">required_keys</span> <span class="o">-</span> <span class="n">keys</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">LookupError</span><span class="p">(</span>
                <span class="s2">&quot;DatasetItem missing a required property: </span><span class="si">%s</span><span class="s2">&quot;</span>
                <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">required_keys</span> <span class="o">-</span> <span class="n">keys</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_item</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param dataset_item:    a single dataset item</span>
<span class="sd">        :param force:           force add item</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_needed_keys</span><span class="p">(</span>
            <span class="n">dataset_item</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="n">dataset_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entityId&quot;</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">remove_item</span><span class="p">(</span><span class="n">dataset_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entityId&quot;</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Duplicate item found: </span><span class="si">{</span><span class="n">dataset_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;entityId&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">. &quot;</span>
                        <span class="s2">&quot;Set force=True to overwrite the existing item.&quot;</span>
                    <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a DatasetItem? </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">add_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param dataset_items:   a list of dataset items</span>
<span class="sd">        :param force:           force add items</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">dataset_item</span> <span class="ow">in</span> <span class="n">dataset_items</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">,</span> <span class="n">force</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param item_id: a single dataset item Synapse ID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;syn&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">curr_item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">curr_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entityId&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">:</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a Synapse ID: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">item_id</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">has_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param item_id: a single dataset item Synapse ID</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;entityId&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param folder:  a single Synapse Folder ID</span>
<span class="sd">        :param force:   force add items from folder</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
        <span class="c1"># if self.force != force:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>

    <span class="k">def</span> <span class="nf">add_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folders</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param folders: a list of Synapse Folder IDs</span>
<span class="sd">        :param force:   force add items from folders</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
            <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="nb">set</span><span class="p">)</span>
            <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>
            <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_folder</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">force</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not a list of Folder IDs: </span><span class="si">{</span><span class="n">folders</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_folder_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">,</span> <span class="n">folder</span><span class="p">):</span>
        <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">children</span> <span class="o">=</span> <span class="n">syn</span><span class="o">.</span><span class="n">getChildren</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;org.sagebionetworks.repo.model.Folder&quot;</span><span class="p">:</span>
                <span class="n">files</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_add_folder_files</span><span class="p">(</span><span class="n">syn</span><span class="p">,</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)))</span>
            <span class="k">elif</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;org.sagebionetworks.repo.model.FileEntity&quot;</span><span class="p">:</span>
                <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;entityId&quot;</span><span class="p">:</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
                        <span class="s2">&quot;versionNumber&quot;</span><span class="p">:</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">),</span>
                    <span class="p">}</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not a Folder?: </span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">files</span>

    <span class="k">def</span> <span class="nf">_before_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="c1"># Add files from folders (if any) before storing dataset.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">folders_to_add</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">folders_to_add</span><span class="p">:</span>
                <span class="n">items_to_add</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_folder_files</span><span class="p">(</span><span class="n">syn</span><span class="p">,</span> <span class="n">folder</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">items_to_add</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">force</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">folders_to_add</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="c1"># Must set this scopeIds is used to get all annotations from the</span>
        <span class="c1"># entities</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;entityId&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">]</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_before_synapse_store</span><span class="p">(</span><span class="n">syn</span><span class="p">)</span>
        <span class="c1"># Reset attribute to force-add items from folders.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Remap `datasetItems` back to `items` before storing (since `items`</span>
        <span class="c1"># is the accepted field name in the API, not `datasetItems`).</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.Dataset-functions">Functions<a href="#synapseclient.table.Dataset-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.Dataset.add_item" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_item</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#synapseclient.table.Dataset.add_item" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param dataset_item:    a single dataset item
:param force:           force add item</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_item</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param dataset_item:    a single dataset item</span>
<span class="sd">    :param force:           force add item</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_needed_keys</span><span class="p">(</span>
        <span class="n">dataset_item</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="n">dataset_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entityId&quot;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_item</span><span class="p">(</span><span class="n">dataset_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entityId&quot;</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Duplicate item found: </span><span class="si">{</span><span class="n">dataset_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;entityId&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;Set force=True to overwrite the existing item.&quot;</span>
                <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a DatasetItem? </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.Dataset.add_items" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_items</span><span class="p">(</span><span class="n">dataset_items</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#synapseclient.table.Dataset.add_items" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param dataset_items:   a list of dataset items
:param force:           force add items</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param dataset_items:   a list of dataset items</span>
<span class="sd">    :param force:           force add items</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">dataset_item</span> <span class="ow">in</span> <span class="n">dataset_items</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">dataset_item</span><span class="p">,</span> <span class="n">force</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.Dataset.remove_item" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">remove_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span></code>

<a href="#synapseclient.table.Dataset.remove_item" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param item_id: a single dataset item Synapse ID</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param item_id: a single dataset item Synapse ID</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">item_id</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">item_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;syn&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">curr_item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">curr_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entityId&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">item_id</span><span class="p">:</span>
                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not a Synapse ID: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">item_id</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.Dataset.has_item" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">has_item</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span></code>

<a href="#synapseclient.table.Dataset.has_item" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param item_id: a single dataset item Synapse ID</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">has_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param item_id: a single dataset item Synapse ID</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;entityId&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_id</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">datasetItems</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.Dataset.add_folder" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_folder</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#synapseclient.table.Dataset.add_folder" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param folder:  a single Synapse Folder ID
:param force:   force add items from folder</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param folder:  a single Synapse Folder ID</span>
<span class="sd">    :param force:   force add items from folder</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;folders_to_add&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
    <span class="c1"># if self.force != force:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.Dataset.add_folders" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_folders</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#synapseclient.table.Dataset.add_folders" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param folders: a list of Synapse Folder IDs
:param force:   force add items from folders</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folders</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param folders: a list of Synapse Folder IDs</span>
<span class="sd">    :param force:   force add items from folders</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
        <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="nb">set</span><span class="p">)</span>
        <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">folders</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>
        <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_folder</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">force</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Not a list of Folder IDs: </span><span class="si">{</span><span class="n">folders</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.EntityViewSchema" class="doc doc-heading">
          <code>EntityViewSchema</code>


<a href="#synapseclient.table.EntityViewSchema" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.ViewBase" href="#synapseclient.table.ViewBase">ViewBase</a></code></p>


      <p>A EntityViewSchema is a :py:class:<code>synapseclient.entity.Entity</code> that displays all files/projects
(depending on user choice) within a given set of scopes</p>
<p>:param name:                            the name of the Entity View Table object
:param columns:                         a list of :py:class:<code>Column</code> objects or their IDs. These are optional.
:param parent:                          the project in Synapse to which this table belongs
:param scopes:                          a list of Projects/Folders or their ids
:param type:                            This field is deprecated. Please use <code>includeEntityTypes</code>
:param includeEntityTypes:              a list of entity types to include in the view. Supported entity types are:</p>
<pre><code>                                        - EntityViewType.FILE,
                                        - EntityViewType.PROJECT,
                                        - EntityViewType.TABLE,
                                        - EntityViewType.FOLDER,
                                        - EntityViewType.VIEW,
                                        - EntityViewType.DOCKER

                                    If none is provided, the view will default to include EntityViewType.FILE.
</code></pre>
<p>:param addDefaultViewColumns:           If true, adds all default columns (e.g. name, createdOn, modifiedBy etc.)
                                        Defaults to True.
                                        The default columns will be added after a call to
                                        :py:meth:<code>synapseclient.Synapse.store</code>.
:param addAnnotationColumns:            If true, adds columns for all annotation keys defined across all Entities in
                                        the EntityViewSchema's scope. Defaults to True.
                                        The annotation columns will be added after a call to
                                        :py:meth:<code>synapseclient.Synapse.store</code>.
:param ignoredAnnotationColumnNames:    A list of strings representing annotation names.
                                        When addAnnotationColumns is True, the names in this list will not be
                                        automatically added as columns to the EntityViewSchema if they exist in any
                                        of the defined scopes.
:param properties:                      A map of Synapse properties
:param annotations:                     A map of user defined annotations
:param local_state:                     Internal use only</p>
<p>Example::</p>
<pre><code>from synapseclient import EntityViewType

project_or_folder = syn.get("syn123")
schema = syn.store(EntityViewSchema(name='MyTable', parent=project, scopes=[project_or_folder_id, 'syn123'],
 includeEntityTypes=[EntityViewType.FILE]))
</code></pre>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EntityViewSchema</span><span class="p">(</span><span class="n">ViewBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A EntityViewSchema is a :py:class:`synapseclient.entity.Entity` that displays all files/projects</span>
<span class="sd">    (depending on user choice) within a given set of scopes</span>

<span class="sd">    :param name:                            the name of the Entity View Table object</span>
<span class="sd">    :param columns:                         a list of :py:class:`Column` objects or their IDs. These are optional.</span>
<span class="sd">    :param parent:                          the project in Synapse to which this table belongs</span>
<span class="sd">    :param scopes:                          a list of Projects/Folders or their ids</span>
<span class="sd">    :param type:                            This field is deprecated. Please use `includeEntityTypes`</span>
<span class="sd">    :param includeEntityTypes:              a list of entity types to include in the view. Supported entity types are:</span>

<span class="sd">                                                - EntityViewType.FILE,</span>
<span class="sd">                                                - EntityViewType.PROJECT,</span>
<span class="sd">                                                - EntityViewType.TABLE,</span>
<span class="sd">                                                - EntityViewType.FOLDER,</span>
<span class="sd">                                                - EntityViewType.VIEW,</span>
<span class="sd">                                                - EntityViewType.DOCKER</span>

<span class="sd">                                            If none is provided, the view will default to include EntityViewType.FILE.</span>
<span class="sd">    :param addDefaultViewColumns:           If true, adds all default columns (e.g. name, createdOn, modifiedBy etc.)</span>
<span class="sd">                                            Defaults to True.</span>
<span class="sd">                                            The default columns will be added after a call to</span>
<span class="sd">                                            :py:meth:`synapseclient.Synapse.store`.</span>
<span class="sd">    :param addAnnotationColumns:            If true, adds columns for all annotation keys defined across all Entities in</span>
<span class="sd">                                            the EntityViewSchema&#39;s scope. Defaults to True.</span>
<span class="sd">                                            The annotation columns will be added after a call to</span>
<span class="sd">                                            :py:meth:`synapseclient.Synapse.store`.</span>
<span class="sd">    :param ignoredAnnotationColumnNames:    A list of strings representing annotation names.</span>
<span class="sd">                                            When addAnnotationColumns is True, the names in this list will not be</span>
<span class="sd">                                            automatically added as columns to the EntityViewSchema if they exist in any</span>
<span class="sd">                                            of the defined scopes.</span>
<span class="sd">    :param properties:                      A map of Synapse properties</span>
<span class="sd">    :param annotations:                     A map of user defined annotations</span>
<span class="sd">    :param local_state:                     Internal use only</span>

<span class="sd">    Example::</span>

<span class="sd">        from synapseclient import EntityViewType</span>

<span class="sd">        project_or_folder = syn.get(&quot;syn123&quot;)</span>
<span class="sd">        schema = syn.store(EntityViewSchema(name=&#39;MyTable&#39;, parent=project, scopes=[project_or_folder_id, &#39;syn123&#39;],</span>
<span class="sd">         includeEntityTypes=[EntityViewType.FILE]))</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_synapse_entity_type</span> <span class="o">=</span> <span class="s2">&quot;org.sagebionetworks.repo.model.table.EntityView&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scopes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">includeEntityTypes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">addDefaultViewColumns</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">addAnnotationColumns</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">ignoredAnnotationColumnNames</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">local_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">includeEntityTypes</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;viewTypeMask&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_get_view_type_mask</span><span class="p">(</span><span class="n">includeEntityTypes</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;viewTypeMask&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_get_view_type_mask_for_deprecated_type</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">properties</span> <span class="ow">and</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">properties</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;viewTypeMask&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_get_view_type_mask_for_deprecated_type</span><span class="p">(</span>
                <span class="n">properties</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="n">properties</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ignoredAnnotationColumnNames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">ignoredAnnotationColumnNames</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">EntityViewSchema</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
            <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span><span class="p">,</span>
            <span class="n">local_state</span><span class="o">=</span><span class="n">local_state</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># This is a hacky solution to make sure we don&#39;t try to add columns to schemas that we retrieve from synapse</span>
        <span class="n">is_from_normal_constructor</span> <span class="o">=</span> <span class="ow">not</span> <span class="p">(</span><span class="n">properties</span> <span class="ow">or</span> <span class="n">local_state</span><span class="p">)</span>
        <span class="c1"># allowing annotations because user might want to update annotations all at once</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDefaultViewColumns</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">addDefaultViewColumns</span> <span class="ow">and</span> <span class="n">is_from_normal_constructor</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAnnotationColumns</span> <span class="o">=</span> <span class="n">addAnnotationColumns</span> <span class="ow">and</span> <span class="n">is_from_normal_constructor</span>

        <span class="c1"># set default values after constructor so we don&#39;t overwrite the values defined in properties using .get()</span>
        <span class="c1"># because properties, unlike local_state, do not have nonexistent keys assigned with a value of None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;viewTypeMask&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">viewTypeMask</span> <span class="o">=</span> <span class="n">EntityViewType</span><span class="o">.</span><span class="n">FILE</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scopeIds&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># add the scopes last so that we can append the passed in scopes to those defined in properties</span>
        <span class="k">if</span> <span class="n">scopes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_scope</span><span class="p">(</span><span class="n">scopes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_entity_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">includeEntityTypes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param includeEntityTypes: a list of entity types to include in the view. This list will replace the previous</span>
<span class="sd">                                   settings. Supported entity types are:</span>

<span class="sd">                                        - EntityViewType.FILE,</span>
<span class="sd">                                        - EntityViewType.PROJECT,</span>
<span class="sd">                                        - EntityViewType.TABLE,</span>
<span class="sd">                                        - EntityViewType.FOLDER,</span>
<span class="sd">                                        - EntityViewType.VIEW,</span>
<span class="sd">                                        - EntityViewType.DOCKER</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewTypeMask</span> <span class="o">=</span> <span class="n">_get_view_type_mask</span><span class="p">(</span><span class="n">includeEntityTypes</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.EntityViewSchema-functions">Functions<a href="#synapseclient.table.EntityViewSchema-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.EntityViewSchema.set_entity_types" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">set_entity_types</span><span class="p">(</span><span class="n">includeEntityTypes</span><span class="p">)</span></code>

<a href="#synapseclient.table.EntityViewSchema.set_entity_types" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>:param includeEntityTypes: a list of entity types to include in the view. This list will replace the previous
                           settings. Supported entity types are:</p>
<pre><code>                            - EntityViewType.FILE,
                            - EntityViewType.PROJECT,
                            - EntityViewType.TABLE,
                            - EntityViewType.FOLDER,
                            - EntityViewType.VIEW,
                            - EntityViewType.DOCKER
</code></pre>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_entity_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">includeEntityTypes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param includeEntityTypes: a list of entity types to include in the view. This list will replace the previous</span>
<span class="sd">                               settings. Supported entity types are:</span>

<span class="sd">                                    - EntityViewType.FILE,</span>
<span class="sd">                                    - EntityViewType.PROJECT,</span>
<span class="sd">                                    - EntityViewType.TABLE,</span>
<span class="sd">                                    - EntityViewType.FOLDER,</span>
<span class="sd">                                    - EntityViewType.VIEW,</span>
<span class="sd">                                    - EntityViewType.DOCKER</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">viewTypeMask</span> <span class="o">=</span> <span class="n">_get_view_type_mask</span><span class="p">(</span><span class="n">includeEntityTypes</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.SubmissionViewSchema" class="doc doc-heading">
          <code>SubmissionViewSchema</code>


<a href="#synapseclient.table.SubmissionViewSchema" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.ViewBase" href="#synapseclient.table.ViewBase">ViewBase</a></code></p>


      <p>A SubmissionViewSchema is a :py:class:<code>synapseclient.entity.Entity</code> that displays all files/projects
(depending on user choice) within a given set of scopes</p>
<p>:param name:                            the name of the Entity View Table object
:param columns:                         a list of :py:class:<code>Column</code> objects or their IDs. These are optional.
:param parent:                          the project in Synapse to which this table belongs
:param scopes:                          a list of Evaluation Queues or their ids
:param addDefaultViewColumns:           If true, adds all default columns (e.g. name, createdOn, modifiedBy etc.)
                                        Defaults to True.
                                        The default columns will be added after a call to
                                        :py:meth:<code>synapseclient.Synapse.store</code>.
:param addAnnotationColumns:            If true, adds columns for all annotation keys defined across all Entities in
                                        the SubmissionViewSchema's scope. Defaults to True.
                                        The annotation columns will be added after a call to
                                        :py:meth:<code>synapseclient.Synapse.store</code>.
:param ignoredAnnotationColumnNames:    A list of strings representing annotation names.
                                        When addAnnotationColumns is True, the names in this list will not be
                                        automatically added as columns to the SubmissionViewSchema if they exist in
                                        any of the defined scopes.
:param properties:                      A map of Synapse properties
:param annotations:                     A map of user defined annotations
:param local_state:                     Internal use only</p>
<p>Example::
    from synapseclient import SubmissionViewSchema</p>
<pre><code>project = syn.get("syn123")
schema = syn.store(SubmissionViewSchema(name='My Submission View', parent=project, scopes=['9614543']))
</code></pre>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SubmissionViewSchema</span><span class="p">(</span><span class="n">ViewBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A SubmissionViewSchema is a :py:class:`synapseclient.entity.Entity` that displays all files/projects</span>
<span class="sd">    (depending on user choice) within a given set of scopes</span>

<span class="sd">    :param name:                            the name of the Entity View Table object</span>
<span class="sd">    :param columns:                         a list of :py:class:`Column` objects or their IDs. These are optional.</span>
<span class="sd">    :param parent:                          the project in Synapse to which this table belongs</span>
<span class="sd">    :param scopes:                          a list of Evaluation Queues or their ids</span>
<span class="sd">    :param addDefaultViewColumns:           If true, adds all default columns (e.g. name, createdOn, modifiedBy etc.)</span>
<span class="sd">                                            Defaults to True.</span>
<span class="sd">                                            The default columns will be added after a call to</span>
<span class="sd">                                            :py:meth:`synapseclient.Synapse.store`.</span>
<span class="sd">    :param addAnnotationColumns:            If true, adds columns for all annotation keys defined across all Entities in</span>
<span class="sd">                                            the SubmissionViewSchema&#39;s scope. Defaults to True.</span>
<span class="sd">                                            The annotation columns will be added after a call to</span>
<span class="sd">                                            :py:meth:`synapseclient.Synapse.store`.</span>
<span class="sd">    :param ignoredAnnotationColumnNames:    A list of strings representing annotation names.</span>
<span class="sd">                                            When addAnnotationColumns is True, the names in this list will not be</span>
<span class="sd">                                            automatically added as columns to the SubmissionViewSchema if they exist in</span>
<span class="sd">                                            any of the defined scopes.</span>
<span class="sd">    :param properties:                      A map of Synapse properties</span>
<span class="sd">    :param annotations:                     A map of user defined annotations</span>
<span class="sd">    :param local_state:                     Internal use only</span>

<span class="sd">    Example::</span>
<span class="sd">        from synapseclient import SubmissionViewSchema</span>

<span class="sd">        project = syn.get(&quot;syn123&quot;)</span>
<span class="sd">        schema = syn.store(SubmissionViewSchema(name=&#39;My Submission View&#39;, parent=project, scopes=[&#39;9614543&#39;]))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_synapse_entity_type</span> <span class="o">=</span> <span class="s2">&quot;org.sagebionetworks.repo.model.table.SubmissionView&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scopes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">addDefaultViewColumns</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">addAnnotationColumns</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">ignoredAnnotationColumnNames</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">local_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ignoredAnnotationColumnNames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">ignoredAnnotationColumnNames</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SubmissionViewSchema</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
            <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span><span class="p">,</span>
            <span class="n">local_state</span><span class="o">=</span><span class="n">local_state</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># This is a hacky solution to make sure we don&#39;t try to add columns to schemas that we retrieve from synapse</span>
        <span class="n">is_from_normal_constructor</span> <span class="o">=</span> <span class="ow">not</span> <span class="p">(</span><span class="n">properties</span> <span class="ow">or</span> <span class="n">local_state</span><span class="p">)</span>
        <span class="c1"># allowing annotations because user might want to update annotations all at once</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDefaultViewColumns</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">addDefaultViewColumns</span> <span class="ow">and</span> <span class="n">is_from_normal_constructor</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addAnnotationColumns</span> <span class="o">=</span> <span class="n">addAnnotationColumns</span> <span class="ow">and</span> <span class="n">is_from_normal_constructor</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scopeIds&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scopeIds</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># add the scopes last so that we can append the passed in scopes to those defined in properties</span>
        <span class="k">if</span> <span class="n">scopes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_scope</span><span class="p">(</span><span class="n">scopes</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.SelectColumn" class="doc doc-heading">
          <code>SelectColumn</code>


<a href="#synapseclient.table.SelectColumn" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="synapseclient.core.models.dict_object.DictObject">DictObject</span></code></p>


      <p>Defines a column to be used in a table :py:class:<code>synapseclient.table.Schema</code>.</p>
<p>:var id:              An immutable ID issued by the platform
:param columnType:    Can be any of: "STRING", "DOUBLE", "INTEGER", "BOOLEAN", "DATE", "FILEHANDLEID", "ENTITYID"
:param name:          The display name of the column</p>
<p>:type id:           string
:type columnType:   string
:type name:         string</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SelectColumn</span><span class="p">(</span><span class="n">DictObject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a column to be used in a table :py:class:`synapseclient.table.Schema`.</span>

<span class="sd">    :var id:              An immutable ID issued by the platform</span>
<span class="sd">    :param columnType:    Can be any of: &quot;STRING&quot;, &quot;DOUBLE&quot;, &quot;INTEGER&quot;, &quot;BOOLEAN&quot;, &quot;DATE&quot;, &quot;FILEHANDLEID&quot;, &quot;ENTITYID&quot;</span>
<span class="sd">    :param name:          The display name of the column</span>

<span class="sd">    :type id:           string</span>
<span class="sd">    :type columnType:   string</span>
<span class="sd">    :type name:         string</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">columnType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SelectColumn</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>

        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

        <span class="k">if</span> <span class="n">columnType</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">columnType</span> <span class="o">=</span> <span class="n">columnType</span>

        <span class="c1"># Notes that this param is only used to support forward compatibility.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_column</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">column</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">column</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columnType&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">column</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.Column" class="doc doc-heading">
          <code>Column</code>


<a href="#synapseclient.table.Column" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="synapseclient.core.models.dict_object.DictObject">DictObject</span></code></p>


      <p>Defines a column to be used in a table :py:class:<code>synapseclient.table.Schema</code>
:py:class:<code>synapseclient.table.EntityViewSchema</code>.</p>
<p>:var id:                  An immutable ID issued by the platform
:param columnType:        The column type determines the type of data that can be stored in a column. It can be any
                          of: "STRING", "DOUBLE", "INTEGER", "BOOLEAN", "DATE", "FILEHANDLEID", "ENTITYID", "LINK",
                          "LARGETEXT", "USERID". For more information, please see:
                          https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/ColumnType.html
:param maximumSize:       A parameter for columnTypes with a maximum size. For example, ColumnType.STRINGs have a
                          default maximum size of 50 characters, but can be set to a maximumSize of 1 to 1000
                          characters.
:param maximumListLength: Required if using a columnType with a "_LIST" suffix. Describes the maximum number of
                          values that will appear in that list. Value range 1-100 inclusive. Default 100
:param name:              The display name of the column
:param enumValues:        Columns type of STRING can be constrained to an enumeration values set on this list.
:param defaultValue:      The default value for this column. Columns of type FILEHANDLEID and ENTITYID are not
                          allowed to have default values.</p>
<p>:type id: string
:type maximumSize: integer
:type maximumListLength: integer
:type columnType: string
:type name: string
:type enumValues: array of strings
:type defaultValue: string</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Column</span><span class="p">(</span><span class="n">DictObject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Defines a column to be used in a table :py:class:`synapseclient.table.Schema`</span>
<span class="sd">    :py:class:`synapseclient.table.EntityViewSchema`.</span>

<span class="sd">    :var id:                  An immutable ID issued by the platform</span>
<span class="sd">    :param columnType:        The column type determines the type of data that can be stored in a column. It can be any</span>
<span class="sd">                              of: &quot;STRING&quot;, &quot;DOUBLE&quot;, &quot;INTEGER&quot;, &quot;BOOLEAN&quot;, &quot;DATE&quot;, &quot;FILEHANDLEID&quot;, &quot;ENTITYID&quot;, &quot;LINK&quot;,</span>
<span class="sd">                              &quot;LARGETEXT&quot;, &quot;USERID&quot;. For more information, please see:</span>
<span class="sd">                              https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/ColumnType.html</span>
<span class="sd">    :param maximumSize:       A parameter for columnTypes with a maximum size. For example, ColumnType.STRINGs have a</span>
<span class="sd">                              default maximum size of 50 characters, but can be set to a maximumSize of 1 to 1000</span>
<span class="sd">                              characters.</span>
<span class="sd">    :param maximumListLength: Required if using a columnType with a &quot;_LIST&quot; suffix. Describes the maximum number of</span>
<span class="sd">                              values that will appear in that list. Value range 1-100 inclusive. Default 100</span>
<span class="sd">    :param name:              The display name of the column</span>
<span class="sd">    :param enumValues:        Columns type of STRING can be constrained to an enumeration values set on this list.</span>
<span class="sd">    :param defaultValue:      The default value for this column. Columns of type FILEHANDLEID and ENTITYID are not</span>
<span class="sd">                              allowed to have default values.</span>

<span class="sd">    :type id: string</span>
<span class="sd">    :type maximumSize: integer</span>
<span class="sd">    :type maximumListLength: integer</span>
<span class="sd">    :type columnType: string</span>
<span class="sd">    :type name: string</span>
<span class="sd">    :type enumValues: array of strings</span>
<span class="sd">    :type defaultValue: string</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">getURI</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;/column/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">id</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Column</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;concreteType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">concrete_types</span><span class="o">.</span><span class="n">COLUMN_MODEL</span>

    <span class="k">def</span> <span class="nf">postURI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;/column&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.AppendableRowset" class="doc doc-heading">
          <code>AppendableRowset</code>


<a href="#synapseclient.table.AppendableRowset" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="synapseclient.core.models.dict_object.DictObject">DictObject</span></code></p>


      <p>Abstract Base Class for :py:class:<code>Rowset</code> and :py:class:<code>PartialRowset</code></p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AppendableRowset</span><span class="p">(</span><span class="n">DictObject</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">abc</span><span class="o">.</span><span class="n">ABCMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract Base Class for :py:class:`Rowset` and :py:class:`PartialRowset`&quot;&quot;&quot;</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;tableId&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">)</span> <span class="ow">and</span> <span class="n">schema</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;tableId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">id_of</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tableId&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Table schema ID must be defined to create a </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AppendableRowset</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates and POSTs an AppendableRowSetRequest_</span>

<span class="sd">        .. AppendableRowSetRequest:</span>
<span class="sd">         https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/AppendableRowSetRequest.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">append_rowset_request</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;concreteType&quot;</span><span class="p">:</span> <span class="n">concrete_types</span><span class="o">.</span><span class="n">APPENDABLE_ROWSET_REQUEST</span><span class="p">,</span>
            <span class="s2">&quot;toAppend&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="p">,</span>
            <span class="s2">&quot;entityId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">syn</span><span class="o">.</span><span class="n">_async_table_update</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span> <span class="p">[</span><span class="n">append_rowset_request</span><span class="p">],</span> <span class="n">wait</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">syn</span><span class="o">.</span><span class="n">_check_table_transaction_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.PartialRowset" class="doc doc-heading">
          <code>PartialRowset</code>


<a href="#synapseclient.table.PartialRowset" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.AppendableRowset" href="#synapseclient.table.AppendableRowset">AppendableRowset</a></code></p>


      <p>A set of Partial Rows used for updating cells of a table.
PartialRowsets allow you to push only the individual cells you wish to change instead of pushing entire rows with
many unchanged cells.</p>
<p>Example::
    #### the following code will change cells in a hypothetical table, syn123:
    #### these same steps will also work for using EntityView tables to change Entity annotations
    #
    # fooCol | barCol             fooCol    |  barCol
    # -----------------  =======&gt; ----------------------
    # foo1   | bar1               foo foo1  |  bar1
    # foo2   | bar2               foo2      |  bar bar 2</p>
<pre><code>query_results = syn.tableQuery("SELECT * FROM syn123")

# The easiest way to know the rowId of the row you wish to change
# is by converting the table to a pandas DataFrame with rowIdAndVersionInIndex=False
df = query_results.asDataFrame(rowIdAndVersionInIndex=False)

partial_changes = {df['ROW_ID'][0]: {'fooCol': 'foo foo 1'},
                   df['ROW_ID'][1]: {'barCol': 'bar bar 2'}}

# you will need to pass in your original query result as an argument
# so that we can perform column id translation and etag retrieval on your behalf:
partial_rowset = PartialRowset.from_mapping(partial_changes, query_results)
syn.store(partial_rowset)
</code></pre>
<p>:param schema: The :py:class:<code>Schema</code> of the table to update or its tableId as a string
:param rows: A list of PartialRows</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PartialRowset</span><span class="p">(</span><span class="n">AppendableRowset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A set of Partial Rows used for updating cells of a table.</span>
<span class="sd">    PartialRowsets allow you to push only the individual cells you wish to change instead of pushing entire rows with</span>
<span class="sd">    many unchanged cells.</span>

<span class="sd">    Example::</span>
<span class="sd">        #### the following code will change cells in a hypothetical table, syn123:</span>
<span class="sd">        #### these same steps will also work for using EntityView tables to change Entity annotations</span>
<span class="sd">        #</span>
<span class="sd">        # fooCol | barCol             fooCol    |  barCol</span>
<span class="sd">        # -----------------  =======&gt; ----------------------</span>
<span class="sd">        # foo1   | bar1               foo foo1  |  bar1</span>
<span class="sd">        # foo2   | bar2               foo2      |  bar bar 2</span>

<span class="sd">        query_results = syn.tableQuery(&quot;SELECT * FROM syn123&quot;)</span>

<span class="sd">        # The easiest way to know the rowId of the row you wish to change</span>
<span class="sd">        # is by converting the table to a pandas DataFrame with rowIdAndVersionInIndex=False</span>
<span class="sd">        df = query_results.asDataFrame(rowIdAndVersionInIndex=False)</span>

<span class="sd">        partial_changes = {df[&#39;ROW_ID&#39;][0]: {&#39;fooCol&#39;: &#39;foo foo 1&#39;},</span>
<span class="sd">                           df[&#39;ROW_ID&#39;][1]: {&#39;barCol&#39;: &#39;bar bar 2&#39;}}</span>

<span class="sd">        # you will need to pass in your original query result as an argument</span>
<span class="sd">        # so that we can perform column id translation and etag retrieval on your behalf:</span>
<span class="sd">        partial_rowset = PartialRowset.from_mapping(partial_changes, query_results)</span>
<span class="sd">        syn.store(partial_rowset)</span>

<span class="sd">    :param schema: The :py:class:`Schema` of the table to update or its tableId as a string</span>
<span class="sd">    :param rows: A list of PartialRows</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_mapping</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">mapping</span><span class="p">,</span> <span class="n">originalQueryResult</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a PartialRowset</span>
<span class="sd">        :param mapping: A mapping of mappings in the structure: {ROW_ID : {COLUMN_NAME: NEW_COL_VALUE}}</span>
<span class="sd">        :param originalQueryResult:</span>
<span class="sd">        :return: a PartialRowSet that can be syn.store()-ed to apply the changes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;mapping must be a supported Mapping type such as &#39;dict&#39;&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">name_to_column_id</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">col</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">originalQueryResult</span><span class="o">.</span><span class="n">headers</span> <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">in</span> <span class="n">col</span>
            <span class="p">}</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;originalQueryResult must be the result of a syn.tableQuery()&quot;</span>
            <span class="p">)</span>

        <span class="n">row_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="c1"># row_ids in the originalQueryResult are not guaranteed to be in ascending order</span>
        <span class="c1"># iterate over all etags but only map the row_ids used for this partial update to their etags</span>
        <span class="n">row_etags</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">row_id</span><span class="p">:</span> <span class="n">etag</span>
            <span class="k">for</span> <span class="n">row_id</span><span class="p">,</span> <span class="n">row_version</span><span class="p">,</span> <span class="n">etag</span> <span class="ow">in</span> <span class="n">originalQueryResult</span><span class="o">.</span><span class="n">iter_row_metadata</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">row_id</span> <span class="ow">in</span> <span class="n">row_ids</span> <span class="ow">and</span> <span class="n">etag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">}</span>

        <span class="n">partial_rows</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">PartialRow</span><span class="p">(</span>
                <span class="n">row_changes</span><span class="p">,</span>
                <span class="n">row_id</span><span class="p">,</span>
                <span class="n">etag</span><span class="o">=</span><span class="n">row_etags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">row_id</span><span class="p">)),</span>
                <span class="n">nameToColumnId</span><span class="o">=</span><span class="n">name_to_column_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">row_id</span><span class="p">,</span> <span class="n">row_changes</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">]</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">originalQueryResult</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span> <span class="n">partial_rows</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">rows</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PartialRowset</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">concreteType</span> <span class="o">=</span> <span class="n">concrete_types</span><span class="o">.</span><span class="n">PARTIAL_ROW_SET</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">PartialRow</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[</span><span class="n">rows</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">PartialRow</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;rows must contain only values of type PartialRow&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;rows must be iterable&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.PartialRowset-functions">Functions<a href="#synapseclient.table.PartialRowset-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.PartialRowset.from_mapping" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_mapping</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">originalQueryResult</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#synapseclient.table.PartialRowset.from_mapping" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Creates a PartialRowset
:param mapping: A mapping of mappings in the structure: {ROW_ID : {COLUMN_NAME: NEW_COL_VALUE}}
:param originalQueryResult:
:return: a PartialRowSet that can be syn.store()-ed to apply the changes</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_mapping</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">mapping</span><span class="p">,</span> <span class="n">originalQueryResult</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a PartialRowset</span>
<span class="sd">    :param mapping: A mapping of mappings in the structure: {ROW_ID : {COLUMN_NAME: NEW_COL_VALUE}}</span>
<span class="sd">    :param originalQueryResult:</span>
<span class="sd">    :return: a PartialRowSet that can be syn.store()-ed to apply the changes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;mapping must be a supported Mapping type such as &#39;dict&#39;&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">name_to_column_id</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">col</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">originalQueryResult</span><span class="o">.</span><span class="n">headers</span> <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">in</span> <span class="n">col</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;originalQueryResult must be the result of a syn.tableQuery()&quot;</span>
        <span class="p">)</span>

    <span class="n">row_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="c1"># row_ids in the originalQueryResult are not guaranteed to be in ascending order</span>
    <span class="c1"># iterate over all etags but only map the row_ids used for this partial update to their etags</span>
    <span class="n">row_etags</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">row_id</span><span class="p">:</span> <span class="n">etag</span>
        <span class="k">for</span> <span class="n">row_id</span><span class="p">,</span> <span class="n">row_version</span><span class="p">,</span> <span class="n">etag</span> <span class="ow">in</span> <span class="n">originalQueryResult</span><span class="o">.</span><span class="n">iter_row_metadata</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">row_id</span> <span class="ow">in</span> <span class="n">row_ids</span> <span class="ow">and</span> <span class="n">etag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">}</span>

    <span class="n">partial_rows</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">PartialRow</span><span class="p">(</span>
            <span class="n">row_changes</span><span class="p">,</span>
            <span class="n">row_id</span><span class="p">,</span>
            <span class="n">etag</span><span class="o">=</span><span class="n">row_etags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">row_id</span><span class="p">)),</span>
            <span class="n">nameToColumnId</span><span class="o">=</span><span class="n">name_to_column_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">row_id</span><span class="p">,</span> <span class="n">row_changes</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">originalQueryResult</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span> <span class="n">partial_rows</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.RowSet" class="doc doc-heading">
          <code>RowSet</code>


<a href="#synapseclient.table.RowSet" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.AppendableRowset" href="#synapseclient.table.AppendableRowset">AppendableRowset</a></code></p>


      <p>A Synapse object of type <code>org.sagebionetworks.repo.model.table.RowSet     &lt;https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/RowSet.html&gt;</code>_.</p>
<p>:param schema:  A :py:class:<code>synapseclient.table.Schema</code> object that will be used to set the tableId
:param headers: The list of SelectColumn objects that describe the fields in each row.
:param columns: An alternative to 'headers', a list of column objects that describe the fields in each row.
:param tableId: The ID of the TableEntity that owns these rows
:param rows:    The :py:class:<code>synapseclient.table.Row</code> s of this set. The index of each row value aligns with the
                index of each header.
:var etag:      Any RowSet returned from Synapse will contain the current etag of the change set. To update any
                rows from a RowSet the etag must be provided with the POST.</p>
<p>:type headers:   array of SelectColumns
:type etag:      string
:type tableId:   string
:type rows:      array of rows</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">RowSet</span><span class="p">(</span><span class="n">AppendableRowset</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Synapse object of type `org.sagebionetworks.repo.model.table.RowSet \</span>
<span class="sd">    &lt;https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/RowSet.html&gt;`_.</span>

<span class="sd">    :param schema:  A :py:class:`synapseclient.table.Schema` object that will be used to set the tableId</span>
<span class="sd">    :param headers: The list of SelectColumn objects that describe the fields in each row.</span>
<span class="sd">    :param columns: An alternative to &#39;headers&#39;, a list of column objects that describe the fields in each row.</span>
<span class="sd">    :param tableId: The ID of the TableEntity that owns these rows</span>
<span class="sd">    :param rows:    The :py:class:`synapseclient.table.Row` s of this set. The index of each row value aligns with the</span>
<span class="sd">                    index of each header.</span>
<span class="sd">    :var etag:      Any RowSet returned from Synapse will contain the current etag of the change set. To update any</span>
<span class="sd">                    rows from a RowSet the etag must be provided with the POST.</span>

<span class="sd">    :type headers:   array of SelectColumns</span>
<span class="sd">    :type etag:      string</span>
<span class="sd">    :type tableId:   string</span>
<span class="sd">    :type rows:      array of rows</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json</span><span class="p">):</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="n">SelectColumn</span><span class="p">(</span><span class="o">**</span><span class="n">header</span><span class="p">)</span> <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;headers&quot;</span><span class="p">,</span> <span class="p">[])]</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="p">[</span><span class="n">cast_row</span><span class="p">(</span><span class="n">Row</span><span class="p">(</span><span class="o">**</span><span class="n">row</span><span class="p">),</span> <span class="n">headers</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rows&quot;</span><span class="p">,</span> <span class="p">[])]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">,</span>
            <span class="o">**</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">json</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">,</span> <span class="s2">&quot;rows&quot;</span><span class="p">]},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;headers&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">columns</span> <span class="ow">and</span> <span class="n">schema</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Please only user either &#39;columns&#39; or &#39;schema&#39; as an argument but not both.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">columns</span><span class="p">:</span>
                <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;headers&quot;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                    <span class="p">[</span><span class="n">SelectColumn</span><span class="o">.</span><span class="n">from_column</span><span class="p">(</span><span class="n">column</span><span class="p">)</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">]</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">schema</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">Schema</span><span class="p">):</span>
                <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;headers&quot;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                    <span class="p">[</span><span class="n">SelectColumn</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s2">&quot;columnIds&quot;</span><span class="p">]]</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;headers&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Column headers must be defined to create a RowSet&quot;</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;concreteType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;org.sagebionetworks.repo.model.table.RowSet&quot;</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">RowSet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">RowSet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_synapse_store</span><span class="p">(</span><span class="n">syn</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rowReferenceSet&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_synapse_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete the rows in the RowSet.</span>
<span class="sd">        Example::</span>
<span class="sd">            syn.delete(syn.tableQuery(&#39;select name from %s where no_good = true&#39; % schema1.id))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">row_id_vers_generator</span> <span class="o">=</span> <span class="p">((</span><span class="n">row</span><span class="o">.</span><span class="n">rowId</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">versionNumber</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">)</span>
        <span class="n">_delete_rows</span><span class="p">(</span><span class="n">syn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span> <span class="n">row_id_vers_generator</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.Row" class="doc doc-heading">
          <code>Row</code>


<a href="#synapseclient.table.Row" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="synapseclient.core.models.dict_object.DictObject">DictObject</span></code></p>


      <p>A <code>row &lt;https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/Row.html&gt;</code>_ in a Table.</p>
<p>:param values:          A list of values
:param rowId:           The immutable ID issued to a new row
:param versionNumber:   The version number of this row. Each row version is immutable, so when a row is updated a
                        new version is created.</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Row</span><span class="p">(</span><span class="n">DictObject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A `row &lt;https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/Row.html&gt;`_ in a Table.</span>

<span class="sd">    :param values:          A list of values</span>
<span class="sd">    :param rowId:           The immutable ID issued to a new row</span>
<span class="sd">    :param versionNumber:   The version number of this row. Each row version is immutable, so when a row is updated a</span>
<span class="sd">                            new version is created.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">rowId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">versionNumber</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">etag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Row</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">values</span>
        <span class="k">if</span> <span class="n">rowId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rowId</span> <span class="o">=</span> <span class="n">rowId</span>
        <span class="k">if</span> <span class="n">versionNumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">versionNumber</span> <span class="o">=</span> <span class="n">versionNumber</span>
        <span class="k">if</span> <span class="n">etag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">etag</span> <span class="o">=</span> <span class="n">etag</span>

        <span class="c1"># Notes that this param is only used to support forward compatibility.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.PartialRow" class="doc doc-heading">
          <code>PartialRow</code>


<a href="#synapseclient.table.PartialRow" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="synapseclient.core.models.dict_object.DictObject">DictObject</span></code></p>


      <p>This is a lower-level class for use in :py:class::<code>PartialRowSet</code> to update individual cells within a table.</p>
<p>It is recommended you use :py:classmethod::<code>PartialRowSet.from_mapping</code>to construct partial change sets to a table.</p>
<p>If you want to do the tedious parts yourself:</p>
<p>To change cells in the "foo"(colId:1234) and "bar"(colId:456) columns of a row with rowId=5 ::
    rowId = 5</p>
<pre><code>#pass in with columnIds as key:
PartialRow({123: 'fooVal', 456:'barVal'}, rowId)

#pass in with a nameToColumnId argument

#manually define:
nameToColumnId = {'foo':123, 'bar':456}
#OR if you have the result of a tableQuery() you can generate nameToColumnId using:
query_result = syn.tableQuery("SELECT * FROM syn123")
nameToColumnId = {col.name:col.id for col in query_result.headers}

PartialRow({'foo': 'fooVal', 'bar':'barVal'}, rowId, nameToColumnId=nameToColumnId)
</code></pre>
<p>:param values:          A Mapping where:
                            - key is name of the column (or its columnId) to change in the desired row
                            - value is the new desired value for that column
:param rowId:           The id of the row to be updated
:param etag:            used for updating File/Project Views(::py:class:<code>EntityViewSchema</code>). Not necessary for a
                        (::py:class:<code>Schema</code>) Table
:param nameToColumnId:  Optional map column names to column Ids. If this is provided, the keys of your <code>values</code>
                        Mapping will be replaced with the column ids in the <code>nameToColumnId</code> dict. Include this
                        as an argument when you are providing the column names instead of columnIds as the keys
                        to the <code>values</code> Mapping.</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PartialRow</span><span class="p">(</span><span class="n">DictObject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a lower-level class for use in :py:class::`PartialRowSet` to update individual cells within a table.</span>

<span class="sd">    It is recommended you use :py:classmethod::`PartialRowSet.from_mapping`to construct partial change sets to a table.</span>

<span class="sd">    If you want to do the tedious parts yourself:</span>

<span class="sd">    To change cells in the &quot;foo&quot;(colId:1234) and &quot;bar&quot;(colId:456) columns of a row with rowId=5 ::</span>
<span class="sd">        rowId = 5</span>

<span class="sd">        #pass in with columnIds as key:</span>
<span class="sd">        PartialRow({123: &#39;fooVal&#39;, 456:&#39;barVal&#39;}, rowId)</span>

<span class="sd">        #pass in with a nameToColumnId argument</span>

<span class="sd">        #manually define:</span>
<span class="sd">        nameToColumnId = {&#39;foo&#39;:123, &#39;bar&#39;:456}</span>
<span class="sd">        #OR if you have the result of a tableQuery() you can generate nameToColumnId using:</span>
<span class="sd">        query_result = syn.tableQuery(&quot;SELECT * FROM syn123&quot;)</span>
<span class="sd">        nameToColumnId = {col.name:col.id for col in query_result.headers}</span>

<span class="sd">        PartialRow({&#39;foo&#39;: &#39;fooVal&#39;, &#39;bar&#39;:&#39;barVal&#39;}, rowId, nameToColumnId=nameToColumnId)</span>

<span class="sd">    :param values:          A Mapping where:</span>
<span class="sd">                                - key is name of the column (or its columnId) to change in the desired row</span>
<span class="sd">                                - value is the new desired value for that column</span>
<span class="sd">    :param rowId:           The id of the row to be updated</span>
<span class="sd">    :param etag:            used for updating File/Project Views(::py:class:`EntityViewSchema`). Not necessary for a</span>
<span class="sd">                            (::py:class:`Schema`) Table</span>
<span class="sd">    :param nameToColumnId:  Optional map column names to column Ids. If this is provided, the keys of your `values`</span>
<span class="sd">                            Mapping will be replaced with the column ids in the `nameToColumnId` dict. Include this</span>
<span class="sd">                            as an argument when you are providing the column names instead of columnIds as the keys</span>
<span class="sd">                            to the `values` Mapping.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">rowId</span><span class="p">,</span> <span class="n">etag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nameToColumnId</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PartialRow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;values must be a Mapping&quot;</span><span class="p">)</span>

        <span class="n">rowId</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rowId</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">nameToColumnId</span><span class="p">[</span><span class="n">x_key</span><span class="p">]</span> <span class="k">if</span> <span class="n">nameToColumnId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">x_key</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">x_value</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">x_key</span><span class="p">,</span> <span class="n">x_value</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowId</span> <span class="o">=</span> <span class="n">rowId</span>
        <span class="k">if</span> <span class="n">etag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">etag</span> <span class="o">=</span> <span class="n">etag</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.TableAbstractBaseClass" class="doc doc-heading">
          <code>TableAbstractBaseClass</code>


<a href="#synapseclient.table.TableAbstractBaseClass" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="collections.abc.Iterable">Iterable</span></code>, <code><span title="collections.abc.Sized">Sized</span></code></p>


      <p>Abstract base class for Tables based on different data containers.</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TableAbstractBaseClass</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sized</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract base class for Tables based on different data containers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">RowMetadataTuple</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span>
        <span class="s2">&quot;RowMetadataTuple&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;row_id&quot;</span><span class="p">,</span> <span class="s2">&quot;row_version&quot;</span><span class="p">,</span> <span class="s2">&quot;row_etag&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">etag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">Schema</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="n">schema</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">schema</span> <span class="ow">and</span> <span class="s2">&quot;id&quot;</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">headers</span> <span class="k">if</span> <span class="n">headers</span> <span class="k">else</span> <span class="p">[</span><span class="n">SelectColumn</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">columnIds</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">etag</span> <span class="o">=</span> <span class="n">etag</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span> <span class="o">=</span> <span class="n">schema</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">etag</span> <span class="o">=</span> <span class="n">etag</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Must provide a schema or a synapse ID of a Table Entity&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">asDataFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">asRowSet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RowSet</span><span class="p">(</span>
            <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">tableId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span>
            <span class="n">etag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">etag</span><span class="p">,</span>
            <span class="n">rows</span><span class="o">=</span><span class="p">[</span><span class="n">row</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">Row</span><span class="p">)</span> <span class="k">else</span> <span class="n">Row</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_synapse_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete the rows that result from a table query.</span>

<span class="sd">        Example::</span>
<span class="sd">            syn.delete(syn.tableQuery(&#39;select name from %s where no_good = true&#39; % schema1.id))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">row_id_vers_generator</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">row_id</span><span class="p">,</span> <span class="n">metadata</span><span class="o">.</span><span class="n">row_version</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">metadata</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_row_metadata</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">_delete_rows</span><span class="p">(</span><span class="n">syn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span> <span class="n">row_id_vers_generator</span><span class="p">)</span>

    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">iter_row_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterates the table results to get row_id and row_etag. If an etag does not exist for a row, it will</span>
<span class="sd">        generated as (row_id, None)</span>

<span class="sd">        :return: a generator that gives :py:class::`collections.namedtuple` with format (row_id, row_etag)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.TableAbstractBaseClass-functions">Functions<a href="#synapseclient.table.TableAbstractBaseClass-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.TableAbstractBaseClass.iter_row_metadata" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">iter_row_metadata</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#synapseclient.table.TableAbstractBaseClass.iter_row_metadata" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Iterates the table results to get row_id and row_etag. If an etag does not exist for a row, it will
generated as (row_id, None)</p>
<p>:return: a generator that gives :py:class::<code>collections.namedtuple</code> with format (row_id, row_etag)</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
<span class="k">def</span> <span class="nf">iter_row_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Iterates the table results to get row_id and row_etag. If an etag does not exist for a row, it will</span>
<span class="sd">    generated as (row_id, None)</span>

<span class="sd">    :return: a generator that gives :py:class::`collections.namedtuple` with format (row_id, row_etag)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.RowSetTable" class="doc doc-heading">
          <code>RowSetTable</code>


<a href="#synapseclient.table.RowSetTable" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.TableAbstractBaseClass" href="#synapseclient.table.TableAbstractBaseClass">TableAbstractBaseClass</a></code></p>


      <p>A Table object that wraps a RowSet.</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">RowSetTable</span><span class="p">(</span><span class="n">TableAbstractBaseClass</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Table object that wraps a RowSet.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">rowset</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">RowSetTable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">etag</span><span class="o">=</span><span class="n">rowset</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span> <span class="o">=</span> <span class="n">rowset</span>

    <span class="k">def</span> <span class="nf">_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="n">row_reference_set</span> <span class="o">=</span> <span class="n">syn</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">RowSetTable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">row_reference_set</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">asDataFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">test_import_pandas</span><span class="p">()</span>
        <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;rowId&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]]):</span>
            <span class="n">rownames</span> <span class="o">=</span> <span class="n">row_labels_from_rows</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rownames</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">series</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">header</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]):</span>
            <span class="n">series</span><span class="p">[</span><span class="n">header</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">header</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                <span class="n">index</span><span class="o">=</span><span class="n">rownames</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">series</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">rownames</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">asRowSet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">iterate_rows</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">cast_values</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">iterate_rows</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">iter_row_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;iter_metadata is not supported for RowSetTable&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.TableQueryResult" class="doc doc-heading">
          <code>TableQueryResult</code>


<a href="#synapseclient.table.TableQueryResult" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.TableAbstractBaseClass" href="#synapseclient.table.TableAbstractBaseClass">TableAbstractBaseClass</a></code></p>


      <p>An object to wrap rows returned as a result of a table query.
The TableQueryResult object can be used to iterate over results of a query.</p>
<p>Example ::</p>
<pre><code>results = syn.tableQuery("select * from syn1234")
for row in results:
    print(row)
</code></pre>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TableQueryResult</span><span class="p">(</span><span class="n">TableAbstractBaseClass</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An object to wrap rows returned as a result of a table query.</span>
<span class="sd">    The TableQueryResult object can be used to iterate over results of a query.</span>

<span class="sd">    Example ::</span>

<span class="sd">        results = syn.tableQuery(&quot;select * from syn1234&quot;)</span>
<span class="sd">        for row in results:</span>
<span class="sd">            print(row)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">synapse</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">isConsistent</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">syn</span> <span class="o">=</span> <span class="n">synapse</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">query</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offset</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isConsistent</span> <span class="o">=</span> <span class="n">isConsistent</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syn</span><span class="o">.</span><span class="n">_queryTable</span><span class="p">(</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span> <span class="n">isConsistent</span><span class="o">=</span><span class="n">isConsistent</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span> <span class="o">=</span> <span class="n">RowSet</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;queryResult&quot;</span><span class="p">][</span><span class="s2">&quot;queryResults&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">columnModels</span> <span class="o">=</span> <span class="p">[</span><span class="n">Column</span><span class="p">(</span><span class="o">**</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columnModels&quot;</span><span class="p">,</span> <span class="p">[])]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;queryResult&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;queryCount&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxRowsPerPage</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;maxRowsPerPage&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">TableQueryResult</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">schema</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tableId&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">etag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SynapseError</span><span class="p">(</span>
            <span class="s2">&quot;A TableQueryResult is a read only object and can&#39;t be stored in Synapse. Convert to a&quot;</span>
            <span class="s2">&quot; DataFrame or RowSet instead.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">asDataFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert query result to a Pandas DataFrame.</span>

<span class="sd">        :param rowIdAndVersionInIndex:  Make the dataframe index consist of the row_id and row_version (and row_etag</span>
<span class="sd">                                        if it exists)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">test_import_pandas</span><span class="p">()</span>
        <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

        <span class="c1"># To turn a TableQueryResult into a data frame, we add a page of rows</span>
        <span class="c1"># at a time on the untested theory that it&#39;s more efficient than</span>
        <span class="c1"># adding a single row at a time to the data frame.</span>

        <span class="k">def</span> <span class="nf">construct_rownames</span><span class="p">(</span><span class="n">rowset</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="n">row_labels_from_rows</span><span class="p">(</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">rowIdAndVersionInIndex</span>
                    <span class="k">else</span> <span class="kc">None</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="c1"># if we don&#39;t have row id and version, just number the rows</span>
                <span class="c1"># python3 cast range to list for safety</span>
                <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])))</span>

        <span class="c1"># first page of rows</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">rownames</span> <span class="o">=</span> <span class="n">construct_rownames</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
        <span class="n">offset</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>
        <span class="n">series</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">rowIdAndVersionInIndex</span><span class="p">:</span>
            <span class="c1"># Since we use an OrderedDict this must happen before we construct the other columns</span>
            <span class="c1"># add row id, verison, and etag as rows</span>
            <span class="n">append_etag</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># only useful when (not rowIdAndVersionInIndex), hooray for lazy variables!</span>
            <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;rowId&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]]</span>
            <span class="p">)</span>
            <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
            <span class="p">)</span>

            <span class="n">row_etag</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]]</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">row_etag</span><span class="p">):</span>
                <span class="n">append_etag</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">row_etag</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">header</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]):</span>
            <span class="n">column_name</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">name</span>
            <span class="n">series</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                <span class="n">index</span><span class="o">=</span><span class="n">rownames</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># subsequent pages of rows</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syn</span><span class="o">.</span><span class="n">_queryTableNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span> <span class="o">=</span> <span class="n">RowSet</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;queryResults&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">rownames</span> <span class="o">=</span> <span class="n">construct_rownames</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
            <span class="n">offset</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">rowIdAndVersionInIndex</span><span class="p">:</span>
                <span class="c1"># TODO: Look into why this isn&#39;t being assigned</span>
                <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]]</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">append_etag</span><span class="p">:</span>
                    <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                    <span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">header</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]):</span>
                <span class="n">column_name</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">name</span>
                <span class="n">series</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">series</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span>
                        <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span>
                            <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                            <span class="n">index</span><span class="o">=</span><span class="n">rownames</span><span class="p">,</span>
                        <span class="p">),</span>
                    <span class="p">],</span>
                    <span class="c1"># can&#39;t verify integrity when indices are just numbers instead of &#39;rowid_rowversion&#39;</span>
                    <span class="n">verify_integrity</span><span class="o">=</span><span class="n">rowIdAndVersionInIndex</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">series</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">asRowSet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Note that as of stack 60, an empty query will omit the headers field</span>
        <span class="c1"># see PLFM-3014</span>
        <span class="k">return</span> <span class="n">RowSet</span><span class="p">(</span>
            <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">tableId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span>
            <span class="n">etag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">etag</span><span class="p">,</span>
            <span class="n">rows</span><span class="o">=</span><span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Python 2 iterator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syn</span><span class="o">.</span><span class="n">_queryTableNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span> <span class="o">=</span> <span class="n">RowSet</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;queryResults&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">i</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Python 3 iterator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">iter_row_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterates the table results to get row_id and row_etag. If an etag does not exist for a row, it will</span>
<span class="sd">        generated as (row_id, row_version,None)</span>

<span class="sd">        :return: a generator that gives :py:class::`collections.namedtuple` with format (row_id, row_version, row_etag)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">yield</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">RowMetadataTuple</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;rowId&quot;</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">]),</span> <span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">)</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.TableQueryResult-functions">Functions<a href="#synapseclient.table.TableQueryResult-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.TableQueryResult.asDataFrame" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">asDataFrame</span><span class="p">(</span><span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#synapseclient.table.TableQueryResult.asDataFrame" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Convert query result to a Pandas DataFrame.</p>
<p>:param rowIdAndVersionInIndex:  Make the dataframe index consist of the row_id and row_version (and row_etag
                                if it exists)</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">asDataFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert query result to a Pandas DataFrame.</span>

<span class="sd">    :param rowIdAndVersionInIndex:  Make the dataframe index consist of the row_id and row_version (and row_etag</span>
<span class="sd">                                    if it exists)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">test_import_pandas</span><span class="p">()</span>
    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

    <span class="c1"># To turn a TableQueryResult into a data frame, we add a page of rows</span>
    <span class="c1"># at a time on the untested theory that it&#39;s more efficient than</span>
    <span class="c1"># adding a single row at a time to the data frame.</span>

    <span class="k">def</span> <span class="nf">construct_rownames</span><span class="p">(</span><span class="n">rowset</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">row_labels_from_rows</span><span class="p">(</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">rowIdAndVersionInIndex</span>
                <span class="k">else</span> <span class="kc">None</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="c1"># if we don&#39;t have row id and version, just number the rows</span>
            <span class="c1"># python3 cast range to list for safety</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])))</span>

    <span class="c1"># first page of rows</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rownames</span> <span class="o">=</span> <span class="n">construct_rownames</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="n">offset</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>
    <span class="n">series</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">rowIdAndVersionInIndex</span><span class="p">:</span>
        <span class="c1"># Since we use an OrderedDict this must happen before we construct the other columns</span>
        <span class="c1"># add row id, verison, and etag as rows</span>
        <span class="n">append_etag</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># only useful when (not rowIdAndVersionInIndex), hooray for lazy variables!</span>
        <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;rowId&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]]</span>
        <span class="p">)</span>
        <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
        <span class="p">)</span>

        <span class="n">row_etag</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]]</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">row_etag</span><span class="p">):</span>
            <span class="n">append_etag</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">row_etag</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">header</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]):</span>
        <span class="n">column_name</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">name</span>
        <span class="n">series</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">rownames</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># subsequent pages of rows</span>
    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syn</span><span class="o">.</span><span class="n">_queryTableNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span> <span class="o">=</span> <span class="n">RowSet</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;queryResults&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">rownames</span> <span class="o">=</span> <span class="n">construct_rownames</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
        <span class="n">offset</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">rowIdAndVersionInIndex</span><span class="p">:</span>
            <span class="c1"># TODO: Look into why this isn&#39;t being assigned</span>
            <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]]</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span>
                    <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">append_etag</span><span class="p">:</span>
                <span class="n">series</span><span class="p">[</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">,</span>
                    <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                <span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">header</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]):</span>
            <span class="n">column_name</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">name</span>
            <span class="n">series</span><span class="p">[</span><span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">series</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span>
                    <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">column_name</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]],</span>
                        <span class="n">index</span><span class="o">=</span><span class="n">rownames</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">],</span>
                <span class="c1"># can&#39;t verify integrity when indices are just numbers instead of &#39;rowid_rowversion&#39;</span>
                <span class="n">verify_integrity</span><span class="o">=</span><span class="n">rowIdAndVersionInIndex</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">series</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.TableQueryResult.next" class="doc doc-heading">
          <code class="highlight language-python"><span class="nb">next</span><span class="p">()</span></code>

<a href="#synapseclient.table.TableQueryResult.next" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Python 2 iterator</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Python 2 iterator</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">]):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syn</span><span class="o">.</span><span class="n">_queryTableNext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span> <span class="o">=</span> <span class="n">RowSet</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;queryResults&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nextPageToken</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rowset</span><span class="p">[</span><span class="s2">&quot;rows&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">i</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.TableQueryResult.iter_row_metadata" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">iter_row_metadata</span><span class="p">()</span></code>

<a href="#synapseclient.table.TableQueryResult.iter_row_metadata" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Iterates the table results to get row_id and row_etag. If an etag does not exist for a row, it will
generated as (row_id, row_version,None)</p>
<p>:return: a generator that gives :py:class::<code>collections.namedtuple</code> with format (row_id, row_version, row_etag)</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">iter_row_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Iterates the table results to get row_id and row_etag. If an etag does not exist for a row, it will</span>
<span class="sd">    generated as (row_id, row_version,None)</span>

<span class="sd">    :return: a generator that gives :py:class::`collections.namedtuple` with format (row_id, row_version, row_etag)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">yield</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">RowMetadataTuple</span><span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;rowId&quot;</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;versionNumber&quot;</span><span class="p">]),</span> <span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="synapseclient.table.CsvFileTable" class="doc doc-heading">
          <code>CsvFileTable</code>


<a href="#synapseclient.table.CsvFileTable" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="synapseclient.table.TableAbstractBaseClass" href="#synapseclient.table.TableAbstractBaseClass">TableAbstractBaseClass</a></code></p>


      <p>An object to wrap a CSV file that may be stored into a Synapse table or
returned as a result of a table query.</p>

            <details class="quote">
              <summary>Source code in <code>synapseclient/table.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span>
<span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span>
<span class="normal">2387</span>
<span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CsvFileTable</span><span class="p">(</span><span class="n">TableAbstractBaseClass</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An object to wrap a CSV file that may be stored into a Synapse table or</span>
<span class="sd">    returned as a result of a table query.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_table_query</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">synapse</span><span class="p">,</span>
        <span class="n">query</span><span class="p">,</span>
        <span class="n">quoteCharacter</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
        <span class="n">escapeCharacter</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">lineEnd</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">),</span>
        <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
        <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">downloadLocation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a Table object wrapping a CSV file resulting from querying a Synapse table.</span>
<span class="sd">        Mostly for internal use.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">download_from_table_result</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">synapse</span><span class="o">.</span><span class="n">_queryTableCsv</span><span class="p">(</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">quoteCharacter</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
            <span class="n">escapeCharacter</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">lineEnd</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
            <span class="n">separator</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span>
            <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="n">includeRowIdAndRowVersion</span><span class="p">,</span>
            <span class="n">downloadLocation</span><span class="o">=</span><span class="n">downloadLocation</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># A dirty hack to find out if we got back row ID and Version</span>
        <span class="c1"># in particular, we don&#39;t get these back from aggregate queries</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span>
                <span class="n">f</span><span class="p">,</span>
                <span class="n">delimiter</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
                <span class="n">escapechar</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
                <span class="n">lineterminator</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
                <span class="n">quotechar</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">first_line</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">download_from_table_result</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">first_line</span><span class="p">):</span>
            <span class="n">includeRowIdAndRowVersion</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">includeRowIdAndRowVersion</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">filepath</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">download_from_table_result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tableId&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">etag</span><span class="o">=</span><span class="n">download_from_table_result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">quoteCharacter</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
            <span class="n">escapeCharacter</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">lineEnd</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
            <span class="n">separator</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span>
            <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="n">includeRowIdAndRowVersion</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">[</span>
                <span class="n">SelectColumn</span><span class="p">(</span><span class="o">**</span><span class="n">header</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">download_from_table_result</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]</span>
            <span class="p">],</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_data_frame</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">schema</span><span class="p">,</span>
        <span class="n">df</span><span class="p">,</span>
        <span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">etag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">quoteCharacter</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
        <span class="n">escapeCharacter</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">lineEnd</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">),</span>
        <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
        <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># infer columns from data frame if not specified</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">headers</span><span class="p">:</span>
            <span class="n">cols</span> <span class="o">=</span> <span class="n">as_table_columns</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="n">SelectColumn</span><span class="o">.</span><span class="n">from_column</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span>

        <span class="c1"># if the schema has no columns, use the inferred columns</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">Schema</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">schema</span><span class="o">.</span><span class="n">has_columns</span><span class="p">():</span>
            <span class="n">schema</span><span class="o">.</span><span class="n">addColumns</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span>

        <span class="c1"># convert row names in the format [row_id]_[version] or [row_id]_[version]_[etag] back to columns</span>
        <span class="c1"># etag is essentially a UUID</span>
        <span class="n">etag_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[0-9a-fA-F]</span><span class="si">{8}</span><span class="s2">-[0-9a-fA-F]</span><span class="si">{4}</span><span class="s2">-[1-5][0-9a-fA-F]</span><span class="si">{3}</span><span class="s2">-[89abAB][0-9a-fA-F]</span><span class="si">{3}</span><span class="s2">-[0-9a-fA-F]</span><span class="si">{12}</span><span class="s2">&quot;</span>
        <span class="n">row_id_version_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\d+)_(\d+)(_(&quot;</span> <span class="o">+</span> <span class="n">etag_pattern</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;))?&quot;</span><span class="p">)</span>

        <span class="n">row_id</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">row_version</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">row_etag</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row_name</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">row_id_version_pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">row_name</span><span class="p">))</span>
            <span class="n">row_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">row_version</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">row_etag</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># include row ID and version, if we&#39;re asked to OR if it&#39;s encoded in row names</span>
        <span class="k">if</span> <span class="n">includeRowIdAndRowVersion</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="n">includeRowIdAndRowVersion</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="n">row_id</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

            <span class="bp">cls</span><span class="o">.</span><span class="n">_insert_dataframe_column_if_not_exist</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="n">row_id</span><span class="p">)</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_insert_dataframe_column_if_not_exist</span><span class="p">(</span>
                <span class="n">df2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span> <span class="n">row_version</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">row_etag</span><span class="p">):</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">_insert_dataframe_column_if_not_exist</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">,</span> <span class="n">row_etag</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df2</span>
            <span class="n">includeRowIdAndRowVersion</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">f</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
                <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="s2">&quot;table.csv&quot;</span><span class="p">)</span>

            <span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="n">test_import_pandas</span><span class="p">()</span>
            <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">Schema</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">columns_to_store</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">col</span><span class="p">[</span><span class="s2">&quot;columnType&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;DATE&quot;</span><span class="p">:</span>

                        <span class="k">def</span> <span class="nf">_trailing_date_time_millisecond</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
                            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                                <span class="k">return</span> <span class="n">t</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>

                        <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span>
                            <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">name</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;coerce&quot;</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s%f</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
                            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">_trailing_date_time_millisecond</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                        <span class="p">)</span>

            <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span>
                <span class="n">f</span><span class="p">,</span>
                <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">sep</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
                <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span>
                <span class="n">quotechar</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
                <span class="n">escapechar</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
                <span class="n">lineterminator</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
                <span class="n">na_rep</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;na_rep&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="n">float_format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%.12g</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># NOTE: reason for flat_format=&#39;%.12g&#39;:</span>
            <span class="c1"># pandas automatically converts int columns into float64 columns when some cells in the column have no</span>
            <span class="c1"># value. If we write the whole number back as a decimal (e.g. &#39;3.0&#39;), Synapse complains that we are writing</span>
            <span class="c1"># a float into a INTEGER(synapse table type) column. Using the &#39;g&#39; will strip off &#39;.0&#39; from whole number</span>
            <span class="c1"># values. pandas by default (with no float_format parameter) seems to keep 12 values after decimal, so we</span>
            <span class="c1"># use &#39;%.12g&#39;.c</span>
            <span class="c1"># see SYNPY-267.</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
            <span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span>
            <span class="n">etag</span><span class="o">=</span><span class="n">etag</span><span class="p">,</span>
            <span class="n">quoteCharacter</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
            <span class="n">escapeCharacter</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">lineEnd</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
            <span class="n">separator</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span>
            <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="n">includeRowIdAndRowVersion</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_insert_dataframe_column_if_not_exist</span><span class="p">(</span>
        <span class="n">dataframe</span><span class="p">,</span> <span class="n">insert_index</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">insert_column_data</span>
    <span class="p">):</span>
        <span class="c1"># if the column already exists verify the column data is same as what we parsed</span>
        <span class="k">if</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">dataframe</span><span class="p">[</span><span class="n">col_name</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">!=</span> <span class="n">insert_column_data</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SynapseError</span><span class="p">(</span>
                    <span class="p">(</span>
                        <span class="s2">&quot;A column named &#39;</span><span class="si">{0}</span><span class="s2">&#39; already exists and does not match the &#39;</span><span class="si">{0}</span><span class="s2">&#39; values present in&quot;</span>
                        <span class="s2">&quot; the DataFrame&#39;s row names. Please refain from using or modifying &#39;</span><span class="si">{0}</span><span class="s2">&#39; as a&quot;</span>
                        <span class="s2">&quot; column for your data because it is necessary for version tracking in Synapse&#39;s&quot;</span>
                        <span class="s2">&quot; tables&quot;</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_name</span><span class="p">)</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dataframe</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">insert_index</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">insert_column_data</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_list_of_rows</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">schema</span><span class="p">,</span>
        <span class="n">values</span><span class="p">,</span>
        <span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">etag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">quoteCharacter</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
        <span class="n">escapeCharacter</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">lineEnd</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">),</span>
        <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
        <span class="n">linesToSkip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># create CSV file</span>
        <span class="n">f</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filepath</span><span class="p">:</span>
                <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
                <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="s2">&quot;table.csv&quot;</span><span class="p">)</span>

            <span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span>
                <span class="n">f</span><span class="p">,</span>
                <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_NONNUMERIC</span><span class="p">,</span>
                <span class="n">delimiter</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
                <span class="n">escapechar</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
                <span class="n">lineterminator</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
                <span class="n">quotechar</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
                <span class="n">skipinitialspace</span><span class="o">=</span><span class="n">linesToSkip</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="c1"># if we haven&#39;t explicitly set columns, try to grab them from</span>
            <span class="c1"># the schema object</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">headers</span>
                <span class="ow">and</span> <span class="s2">&quot;columns_to_store&quot;</span> <span class="ow">in</span> <span class="n">schema</span>
                <span class="ow">and</span> <span class="n">schema</span><span class="o">.</span><span class="n">columns_to_store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">SelectColumn</span><span class="o">.</span><span class="n">from_column</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">columns_to_store</span>
                <span class="p">]</span>

            <span class="c1"># write headers?</span>
            <span class="k">if</span> <span class="n">headers</span><span class="p">:</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="n">header</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">])</span>
                <span class="n">header</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">header</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="c1"># write row data</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">schema</span><span class="p">,</span>
            <span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span>
            <span class="n">etag</span><span class="o">=</span><span class="n">etag</span><span class="p">,</span>
            <span class="n">quoteCharacter</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
            <span class="n">escapeCharacter</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">lineEnd</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
            <span class="n">separator</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="n">includeRowIdAndRowVersion</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">schema</span><span class="p">,</span>
        <span class="n">filepath</span><span class="p">,</span>
        <span class="n">etag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">quoteCharacter</span><span class="o">=</span><span class="n">DEFAULT_QUOTE_CHARACTER</span><span class="p">,</span>
        <span class="n">escapeCharacter</span><span class="o">=</span><span class="n">DEFAULT_ESCAPSE_CHAR</span><span class="p">,</span>
        <span class="n">lineEnd</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">),</span>
        <span class="n">separator</span><span class="o">=</span><span class="n">DEFAULT_SEPARATOR</span><span class="p">,</span>
        <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">linesToSkip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">includeRowIdAndRowVersion</span> <span class="o">=</span> <span class="n">includeRowIdAndRowVersion</span>

        <span class="c1"># CsvTableDescriptor fields</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linesToSkip</span> <span class="o">=</span> <span class="n">linesToSkip</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quoteCharacter</span> <span class="o">=</span> <span class="n">quoteCharacter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">escapeCharacter</span> <span class="o">=</span> <span class="n">escapeCharacter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span> <span class="o">=</span> <span class="n">lineEnd</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">separator</span> <span class="o">=</span> <span class="n">separator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="o">=</span> <span class="n">header</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">CsvFileTable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">etag</span><span class="o">=</span><span class="n">etag</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setColumnHeaders</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_synapse_store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="n">copied_self</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">copied_self</span><span class="o">.</span><span class="n">_update_self</span><span class="p">(</span><span class="n">syn</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_self</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syn</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">,</span> <span class="n">Schema</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># store schema</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="n">syn</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">id</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">syn</span><span class="o">.</span><span class="n">_uploadCsv</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span>
            <span class="n">updateEtag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">etag</span><span class="p">,</span>
            <span class="n">quoteCharacter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">quoteCharacter</span><span class="p">,</span>
            <span class="n">escapeCharacter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">lineEnd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">,</span>
            <span class="n">separator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">header</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">,</span>
            <span class="n">linesToSkip</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linesToSkip</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">upload_to_table_result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">assert</span> <span class="n">upload_to_table_result</span><span class="p">[</span><span class="s2">&quot;concreteType&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="s2">&quot;org.sagebionetworks.repo.model.table.EntityUpdateResults&quot;</span><span class="p">,</span>
            <span class="s2">&quot;org.sagebionetworks.repo.model.table.UploadToTableResult&quot;</span><span class="p">,</span>
        <span class="p">),</span> <span class="s2">&quot;Not an UploadToTableResult or EntityUpdateResults.&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;etag&quot;</span> <span class="ow">in</span> <span class="n">upload_to_table_result</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">etag</span> <span class="o">=</span> <span class="n">upload_to_table_result</span><span class="p">[</span><span class="s2">&quot;etag&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">asDataFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">convert_to_datetime</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert query result to a Pandas DataFrame.</span>

<span class="sd">        :param rowIdAndVersionInIndex:  Make the dataframe index consist of the row_id and row_version</span>
<span class="sd">                                        (and row_etag if it exists)</span>
<span class="sd">        :param convert_to_datetime:     If set to True, will convert all Synapse DATE columns from UNIX timestamp</span>
<span class="sd">                                        integers into UTC datetime objects</span>

<span class="sd">        :return: Pandas dataframe with results</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">test_import_pandas</span><span class="p">()</span>
        <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Handle bug in pandas 0.19 requiring quotechar to be str not unicode or newstr</span>
            <span class="n">quoteChar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">quoteCharacter</span>

            <span class="c1"># determine which columns are DATE columns so we can convert milisecond timestamps into datetime objects</span>
            <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">list_columns</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">dtype</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">select_column</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">select_column</span><span class="o">.</span><span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;STRING&quot;</span><span class="p">:</span>
                        <span class="c1"># we want to identify string columns so that pandas doesn&#39;t try to</span>
                        <span class="c1"># automatically parse strings in a string column to other data types</span>
                        <span class="n">dtype</span><span class="p">[</span><span class="n">select_column</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span>
                    <span class="k">elif</span> <span class="n">select_column</span><span class="o">.</span><span class="n">columnType</span> <span class="ow">in</span> <span class="n">LIST_COLUMN_TYPES</span><span class="p">:</span>
                        <span class="n">list_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">select_column</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">select_column</span><span class="o">.</span><span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;DATE&quot;</span> <span class="ow">and</span> <span class="n">convert_to_datetime</span><span class="p">:</span>
                        <span class="n">date_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">select_column</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">_csv_to_pandas_df</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span>
                <span class="n">separator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">separator</span><span class="p">,</span>
                <span class="n">quote_char</span><span class="o">=</span><span class="n">quoteChar</span><span class="p">,</span>
                <span class="n">escape_char</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">escapeCharacter</span><span class="p">,</span>
                <span class="n">contain_headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">,</span>
                <span class="n">lines_to_skip</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linesToSkip</span><span class="p">,</span>
                <span class="n">date_columns</span><span class="o">=</span><span class="n">date_columns</span><span class="p">,</span>
                <span class="n">list_columns</span><span class="o">=</span><span class="n">list_columns</span><span class="p">,</span>
                <span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="n">rowIdAndVersionInIndex</span><span class="p">,</span>
                <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">pd</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">CParserError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">asRowSet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Extract row id and version, if present in rows</span>
        <span class="n">row_id_col</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">row_ver_col</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">header</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">header</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;ROW_ID&quot;</span><span class="p">:</span>
                <span class="n">row_id_col</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">elif</span> <span class="n">header</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">:</span>
                <span class="n">row_ver_col</span> <span class="o">=</span> <span class="n">i</span>

        <span class="k">def</span> <span class="nf">to_row_object</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">row_id_col</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">row_ver_col</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">Row</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">row</span>
            <span class="n">rowId</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">row_id_col</span><span class="p">]</span> <span class="k">if</span> <span class="n">row_id_col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="n">versionNumber</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">row_ver_col</span><span class="p">]</span> <span class="k">if</span> <span class="n">row_ver_col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">elem</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">row_id_col</span><span class="p">,</span> <span class="n">row_ver_col</span><span class="p">]</span>
            <span class="p">]</span>
            <span class="k">return</span> <span class="n">Row</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">rowId</span><span class="o">=</span><span class="n">rowId</span><span class="p">,</span> <span class="n">versionNumber</span><span class="o">=</span><span class="n">versionNumber</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">RowSet</span><span class="p">(</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">[</span>
                <span class="n">elem</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">row_id_col</span><span class="p">,</span> <span class="n">row_ver_col</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="n">tableId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tableId</span><span class="p">,</span>
            <span class="n">etag</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">etag</span><span class="p">,</span>
            <span class="n">rows</span><span class="o">=</span><span class="p">[</span><span class="n">to_row_object</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">row_id_col</span><span class="p">,</span> <span class="n">row_ver_col</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">setColumnHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the list of :py:class:`synapseclient.table.SelectColumn` objects that will be used to convert fields to the</span>
<span class="sd">        appropriate data types.</span>

<span class="sd">        Column headers are automatically set when querying.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">includeRowIdAndRowVersion</span><span class="p">:</span>
            <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">header</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">]</span>
            <span class="k">if</span> <span class="s2">&quot;ROW_ID&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">names</span> <span class="ow">and</span> <span class="s2">&quot;ROW_VERSION&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
                <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">SelectColumn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="n">columnType</span><span class="o">=</span><span class="s2">&quot;STRING&quot;</span><span class="p">),</span>
                    <span class="n">SelectColumn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span> <span class="n">columnType</span><span class="o">=</span><span class="s2">&quot;STRING&quot;</span><span class="p">),</span>
                <span class="p">]</span> <span class="o">+</span> <span class="n">headers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">iterate_rows</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Iteration not supported for table without headers.&quot;</span><span class="p">)</span>

            <span class="n">header_name</span> <span class="o">=</span> <span class="p">{</span><span class="n">header</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">}</span>
            <span class="n">row_metadata_headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span> <span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">}</span>
            <span class="n">num_row_metadata_in_headers</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">header_name</span> <span class="o">&amp;</span> <span class="n">row_metadata_headers</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span>
                    <span class="n">f</span><span class="p">,</span>
                    <span class="n">delimiter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">separator</span><span class="p">,</span>
                    <span class="n">escapechar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">escapeCharacter</span><span class="p">,</span>
                    <span class="n">lineterminator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">,</span>
                    <span class="n">quotechar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">quoteCharacter</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">csv_header</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">))</span>
                <span class="c1"># the number of row metadata differences between the csv headers and self.headers</span>
                <span class="n">num_metadata_cols_diff</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="nb">len</span><span class="p">(</span><span class="n">csv_header</span> <span class="o">&amp;</span> <span class="n">row_metadata_headers</span><span class="p">)</span> <span class="o">-</span> <span class="n">num_row_metadata_in_headers</span>
                <span class="p">)</span>
                <span class="c1"># we only process 2 cases:</span>
                <span class="c1"># 1. matching row metadata</span>
                <span class="c1"># 2. if metadata does not match, self.headers must not contains row metadata</span>
                <span class="k">if</span> <span class="n">num_metadata_cols_diff</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">num_row_metadata_in_headers</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">cast_values</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">num_metadata_cols_diff</span><span class="p">:],</span> <span class="n">headers</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">&quot;There is mismatching row metadata in the csv file and in headers.&quot;</span>
                    <span class="p">)</span>

        <span class="k">return</span> <span class="n">iterate_rows</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">:</span>  <span class="c1"># ignore the header line</span>
                <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

            <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">iter_row_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterates the table results to get row_id and row_etag. If an etag does not exist for a row,</span>
<span class="sd">        it will generated as (row_id, None)</span>

<span class="sd">        :return: a generator that gives :py:class::`collections.namedtuple` with format (row_id, row_etag)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span>
                <span class="n">f</span><span class="p">,</span>
                <span class="n">delimiter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">separator</span><span class="p">,</span>
                <span class="n">escapechar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">escapeCharacter</span><span class="p">,</span>
                <span class="n">lineterminator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">,</span>
                <span class="n">quotechar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">quoteCharacter</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">header</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

            <span class="c1"># The ROW_... headers are always in a predefined order</span>
            <span class="n">row_id_index</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">)</span>
            <span class="n">row_version_index</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">row_etag_index</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">row_etag_index</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
                <span class="k">yield</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">RowMetadataTuple</span><span class="p">(</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">row_id_index</span><span class="p">]),</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">row_version_index</span><span class="p">]),</span>
                    <span class="n">row</span><span class="p">[</span><span class="n">row_etag_index</span><span class="p">]</span> <span class="k">if</span> <span class="p">(</span><span class="n">row_etag_index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>



  <div class="doc doc-children">







<h5 id="synapseclient.table.CsvFileTable-functions">Functions<a href="#synapseclient.table.CsvFileTable-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.CsvFileTable.from_table_query" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_table_query</span><span class="p">(</span><span class="n">synapse</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">quoteCharacter</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">escapeCharacter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">lineEnd</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">),</span> <span class="n">separator</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">downloadLocation</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#synapseclient.table.CsvFileTable.from_table_query" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Create a Table object wrapping a CSV file resulting from querying a Synapse table.
Mostly for internal use.</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_table_query</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">synapse</span><span class="p">,</span>
    <span class="n">query</span><span class="p">,</span>
    <span class="n">quoteCharacter</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
    <span class="n">escapeCharacter</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">lineEnd</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">),</span>
    <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
    <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">downloadLocation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a Table object wrapping a CSV file resulting from querying a Synapse table.</span>
<span class="sd">    Mostly for internal use.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">download_from_table_result</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">synapse</span><span class="o">.</span><span class="n">_queryTableCsv</span><span class="p">(</span>
        <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
        <span class="n">quoteCharacter</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
        <span class="n">escapeCharacter</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
        <span class="n">lineEnd</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
        <span class="n">separator</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
        <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span>
        <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="n">includeRowIdAndRowVersion</span><span class="p">,</span>
        <span class="n">downloadLocation</span><span class="o">=</span><span class="n">downloadLocation</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># A dirty hack to find out if we got back row ID and Version</span>
    <span class="c1"># in particular, we don&#39;t get these back from aggregate queries</span>
    <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span>
            <span class="n">f</span><span class="p">,</span>
            <span class="n">delimiter</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">escapechar</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">lineterminator</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
            <span class="n">quotechar</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">first_line</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">download_from_table_result</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">first_line</span><span class="p">):</span>
        <span class="n">includeRowIdAndRowVersion</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">includeRowIdAndRowVersion</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">filepath</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
        <span class="n">schema</span><span class="o">=</span><span class="n">download_from_table_result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tableId&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">etag</span><span class="o">=</span><span class="n">download_from_table_result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;etag&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">quoteCharacter</span><span class="o">=</span><span class="n">quoteCharacter</span><span class="p">,</span>
        <span class="n">escapeCharacter</span><span class="o">=</span><span class="n">escapeCharacter</span><span class="p">,</span>
        <span class="n">lineEnd</span><span class="o">=</span><span class="n">lineEnd</span><span class="p">,</span>
        <span class="n">separator</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
        <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span>
        <span class="n">includeRowIdAndRowVersion</span><span class="o">=</span><span class="n">includeRowIdAndRowVersion</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">[</span>
            <span class="n">SelectColumn</span><span class="p">(</span><span class="o">**</span><span class="n">header</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">download_from_table_result</span><span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">]</span>
        <span class="p">],</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.CsvFileTable.asDataFrame" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">asDataFrame</span><span class="p">(</span><span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">convert_to_datetime</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#synapseclient.table.CsvFileTable.asDataFrame" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Convert query result to a Pandas DataFrame.</p>
<p>:param rowIdAndVersionInIndex:  Make the dataframe index consist of the row_id and row_version
                                (and row_etag if it exists)
:param convert_to_datetime:     If set to True, will convert all Synapse DATE columns from UNIX timestamp
                                integers into UTC datetime objects</p>
<p>:return: Pandas dataframe with results</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">asDataFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">convert_to_datetime</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert query result to a Pandas DataFrame.</span>

<span class="sd">    :param rowIdAndVersionInIndex:  Make the dataframe index consist of the row_id and row_version</span>
<span class="sd">                                    (and row_etag if it exists)</span>
<span class="sd">    :param convert_to_datetime:     If set to True, will convert all Synapse DATE columns from UNIX timestamp</span>
<span class="sd">                                    integers into UTC datetime objects</span>

<span class="sd">    :return: Pandas dataframe with results</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">test_import_pandas</span><span class="p">()</span>
    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Handle bug in pandas 0.19 requiring quotechar to be str not unicode or newstr</span>
        <span class="n">quoteChar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">quoteCharacter</span>

        <span class="c1"># determine which columns are DATE columns so we can convert milisecond timestamps into datetime objects</span>
        <span class="n">date_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">list_columns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dtype</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">select_column</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">select_column</span><span class="o">.</span><span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;STRING&quot;</span><span class="p">:</span>
                    <span class="c1"># we want to identify string columns so that pandas doesn&#39;t try to</span>
                    <span class="c1"># automatically parse strings in a string column to other data types</span>
                    <span class="n">dtype</span><span class="p">[</span><span class="n">select_column</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span>
                <span class="k">elif</span> <span class="n">select_column</span><span class="o">.</span><span class="n">columnType</span> <span class="ow">in</span> <span class="n">LIST_COLUMN_TYPES</span><span class="p">:</span>
                    <span class="n">list_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">select_column</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">select_column</span><span class="o">.</span><span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;DATE&quot;</span> <span class="ow">and</span> <span class="n">convert_to_datetime</span><span class="p">:</span>
                    <span class="n">date_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">select_column</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">_csv_to_pandas_df</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span>
            <span class="n">separator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">quote_char</span><span class="o">=</span><span class="n">quoteChar</span><span class="p">,</span>
            <span class="n">escape_char</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">contain_headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">,</span>
            <span class="n">lines_to_skip</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linesToSkip</span><span class="p">,</span>
            <span class="n">date_columns</span><span class="o">=</span><span class="n">date_columns</span><span class="p">,</span>
            <span class="n">list_columns</span><span class="o">=</span><span class="n">list_columns</span><span class="p">,</span>
            <span class="n">rowIdAndVersionInIndex</span><span class="o">=</span><span class="n">rowIdAndVersionInIndex</span><span class="p">,</span>
            <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">pd</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">CParserError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.CsvFileTable.setColumnHeaders" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">setColumnHeaders</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span></code>

<a href="#synapseclient.table.CsvFileTable.setColumnHeaders" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Set the list of :py:class:<code>synapseclient.table.SelectColumn</code> objects that will be used to convert fields to the
appropriate data types.</p>
<p>Column headers are automatically set when querying.</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setColumnHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the list of :py:class:`synapseclient.table.SelectColumn` objects that will be used to convert fields to the</span>
<span class="sd">    appropriate data types.</span>

<span class="sd">    Column headers are automatically set when querying.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">includeRowIdAndRowVersion</span><span class="p">:</span>
        <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">header</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">]</span>
        <span class="k">if</span> <span class="s2">&quot;ROW_ID&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">names</span> <span class="ow">and</span> <span class="s2">&quot;ROW_VERSION&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">SelectColumn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">,</span> <span class="n">columnType</span><span class="o">=</span><span class="s2">&quot;STRING&quot;</span><span class="p">),</span>
                <span class="n">SelectColumn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">,</span> <span class="n">columnType</span><span class="o">=</span><span class="s2">&quot;STRING&quot;</span><span class="p">),</span>
            <span class="p">]</span> <span class="o">+</span> <span class="n">headers</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="synapseclient.table.CsvFileTable.iter_row_metadata" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">iter_row_metadata</span><span class="p">()</span></code>

<a href="#synapseclient.table.CsvFileTable.iter_row_metadata" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

      <p>Iterates the table results to get row_id and row_etag. If an etag does not exist for a row,
it will generated as (row_id, None)</p>
<p>:return: a generator that gives :py:class::<code>collections.namedtuple</code> with format (row_id, row_etag)</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">iter_row_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Iterates the table results to get row_id and row_etag. If an etag does not exist for a row,</span>
<span class="sd">    it will generated as (row_id, None)</span>

<span class="sd">    :return: a generator that gives :py:class::`collections.namedtuple` with format (row_id, row_etag)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span>
            <span class="n">f</span><span class="p">,</span>
            <span class="n">delimiter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">separator</span><span class="p">,</span>
            <span class="n">escapechar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">escapeCharacter</span><span class="p">,</span>
            <span class="n">lineterminator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lineEnd</span><span class="p">,</span>
            <span class="n">quotechar</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">quoteCharacter</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">header</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

        <span class="c1"># The ROW_... headers are always in a predefined order</span>
        <span class="n">row_id_index</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;ROW_ID&quot;</span><span class="p">)</span>
        <span class="n">row_version_index</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;ROW_VERSION&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">row_etag_index</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;ROW_ETAG&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">row_etag_index</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
            <span class="k">yield</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">RowMetadataTuple</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">row_id_index</span><span class="p">]),</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">row_version_index</span><span class="p">]),</span>
                <span class="n">row</span><span class="p">[</span><span class="n">row_etag_index</span><span class="p">]</span> <span class="k">if</span> <span class="p">(</span><span class="n">row_etag_index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>
<h3 id="synapseclient.table-functions">Functions<a href="#synapseclient.table-functions" class="headerlink" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.as_table_columns" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">as_table_columns</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

<a href="#synapseclient.table.as_table_columns" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Return a list of Synapse table :py:class:<code>Column</code> objects that correspond to the columns in the given values.</p>
<p>:params values: an object that holds the content of the tables
  - a string holding the path to a CSV file, a filehandle, or StringIO containing valid csv content
  - a Pandas <code>DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;</code>_</p>
<p>:returns: A list of Synapse table :py:class:<code>Column</code> objects</p>
<p>Example::</p>
<pre><code>import pandas as pd

df = pd.DataFrame(dict(a=[1, 2, 3], b=["c", "d", "e"]))
cols = as_table_columns(df)
</code></pre>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">as_table_columns</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of Synapse table :py:class:`Column` objects that correspond to the columns in the given values.</span>

<span class="sd">    :params values: an object that holds the content of the tables</span>
<span class="sd">      - a string holding the path to a CSV file, a filehandle, or StringIO containing valid csv content</span>
<span class="sd">      - a Pandas `DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;`_</span>

<span class="sd">    :returns: A list of Synapse table :py:class:`Column` objects</span>

<span class="sd">    Example::</span>

<span class="sd">        import pandas as pd</span>

<span class="sd">        df = pd.DataFrame(dict(a=[1, 2, 3], b=[&quot;c&quot;, &quot;d&quot;, &quot;e&quot;]))</span>
<span class="sd">        cols = as_table_columns(df)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">test_import_pandas</span><span class="p">()</span>
    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
    <span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">infer_dtype</span>

    <span class="n">df</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># pandas DataFrame</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">values</span>
    <span class="c1"># filename of a csv file</span>
    <span class="c1"># in Python 3, we can check that the values is instanceof io.IOBase</span>
    <span class="c1"># for now, check if values has attr `read`</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="s2">&quot;read&quot;</span><span class="p">):</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">_csv_to_pandas_df</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Values of type </span><span class="si">%s</span><span class="s2"> is not yet supported.&quot;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">values</span><span class="p">))</span>

    <span class="n">cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="p">:</span>
        <span class="n">inferred_type</span> <span class="o">=</span> <span class="n">infer_dtype</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">skipna</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">columnType</span> <span class="o">=</span> <span class="n">PANDAS_TABLE_TYPE</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">inferred_type</span><span class="p">,</span> <span class="s2">&quot;STRING&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;STRING&quot;</span><span class="p">:</span>
            <span class="n">maxStrLen</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">maxStrLen</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Column</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">columnType</span><span class="o">=</span><span class="s2">&quot;LARGETEXT&quot;</span><span class="p">,</span> <span class="n">defaultValue</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                    <span class="nb">round</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">maxStrLen</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">)))</span>
                <span class="p">)</span>  <span class="c1"># Determine the length of the longest string</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">Column</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">col</span><span class="p">,</span>
                        <span class="n">columnType</span><span class="o">=</span><span class="n">columnType</span><span class="p">,</span>
                        <span class="n">maximumSize</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
                        <span class="n">defaultValue</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Column</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">columnType</span><span class="o">=</span><span class="n">columnType</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">cols</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.df2Table" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">df2Table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">syn</span><span class="p">,</span> <span class="n">tableName</span><span class="p">,</span> <span class="n">parentProject</span><span class="p">)</span></code>

<a href="#synapseclient.table.df2Table" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Creates a new table from data in pandas data frame.
parameters: df, tableName, parentProject</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">df2Table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">syn</span><span class="p">,</span> <span class="n">tableName</span><span class="p">,</span> <span class="n">parentProject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new table from data in pandas data frame.</span>
<span class="sd">    parameters: df, tableName, parentProject</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Create columns:</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="n">as_table_columns</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">syn</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span>

    <span class="c1"># Create Table Schema</span>
    <span class="n">schema1</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">tableName</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parentProject</span><span class="p">)</span>
    <span class="n">schema1</span> <span class="o">=</span> <span class="n">syn</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">schema1</span><span class="p">)</span>

    <span class="c1"># Add data to Table</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">1200</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">1200</span>
        <span class="n">end</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1200</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rowset1</span> <span class="o">=</span> <span class="n">RowSet</span><span class="p">(</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">schema1</span><span class="p">,</span>
            <span class="n">rows</span><span class="o">=</span><span class="p">[</span><span class="n">Row</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="p">:]))</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)],</span>
        <span class="p">)</span>
        <span class="n">syn</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">rowset1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">schema1</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.to_boolean" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">to_boolean</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

<a href="#synapseclient.table.to_boolean" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Convert a string to boolean, case insensitively,
where true values are: true, t, and 1 and false values are: false, f, 0.
Raise a ValueError for all other values.</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_boolean</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a string to boolean, case insensitively,</span>
<span class="sd">    where true values are: true, t, and 1 and false values are: false, f, 0.</span>
<span class="sd">    Raise a ValueError for all other values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">lower_value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">lower_value</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">lower_value</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;false&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t convert </span><span class="si">%s</span><span class="s2"> to boolean.&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.cast_values" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">cast_values</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span></code>

<a href="#synapseclient.table.cast_values" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Convert a row of table query results from strings to the correct column type.</p>
<p>See: https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/ColumnType.html</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">cast_values</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a row of table query results from strings to the correct column type.</span>

<span class="sd">    See: https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/ColumnType.html</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">headers</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The number of columns in the csv file does not match the given headers. </span><span class="si">%d</span><span class="s2"> fields, </span><span class="si">%d</span><span class="s2"> headers&quot;</span>
            <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">headers</span><span class="p">))</span>
        <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">header</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">headers</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="n">columnType</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;columnType&quot;</span><span class="p">,</span> <span class="s2">&quot;STRING&quot;</span><span class="p">)</span>

        <span class="c1"># convert field to column type</span>
        <span class="k">if</span> <span class="n">field</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">columnType</span> <span class="ow">in</span> <span class="p">{</span>
            <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ENTITYID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FILEHANDLEID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LARGETEXT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;USERID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;LINK&quot;</span><span class="p">,</span>
        <span class="p">}:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;DOUBLE&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">field</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;INTEGER&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">field</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;BOOLEAN&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_boolean</span><span class="p">(</span><span class="n">field</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;DATE&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">from_unix_epoch_time</span><span class="p">(</span><span class="n">field</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">columnType</span> <span class="ow">in</span> <span class="p">{</span>
            <span class="s2">&quot;STRING_LIST&quot;</span><span class="p">,</span>
            <span class="s2">&quot;INTEGER_LIST&quot;</span><span class="p">,</span>
            <span class="s2">&quot;BOOLEAN_LIST&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ENTITYID_LIST&quot;</span><span class="p">,</span>
            <span class="s2">&quot;USERID_LIST&quot;</span><span class="p">,</span>
        <span class="p">}:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">field</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">columnType</span> <span class="o">==</span> <span class="s2">&quot;DATE_LIST&quot;</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">parse_int</span><span class="o">=</span><span class="n">from_unix_epoch_time</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># default to string for unknown column type</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.escape_column_name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">escape_column_name</span><span class="p">(</span><span class="n">column</span><span class="p">)</span></code>

<a href="#synapseclient.table.escape_column_name" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Escape the name of the given column for use in a Synapse table query statement
:param column: a string or column dictionary object with a 'name' key</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">escape_column_name</span><span class="p">(</span><span class="n">column</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Escape the name of the given column for use in a Synapse table query statement</span>
<span class="sd">    :param column: a string or column dictionary object with a &#39;name&#39; key&quot;&quot;&quot;</span>
    <span class="n">col_name</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">column</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Mapping</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">escaped_name</span> <span class="o">=</span> <span class="n">col_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;&quot;&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">escaped_name</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.join_column_names" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">join_column_names</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span></code>

<a href="#synapseclient.table.join_column_names" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Join the names of the given columns into a comma delimited list suitable for use in a Synapse table query
:param columns: a sequence of column string names or dictionary objets with column 'name' keys</p>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">join_column_names</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Join the names of the given columns into a comma delimited list suitable for use in a Synapse table query</span>
<span class="sd">    :param columns: a sequence of column string names or dictionary objets with column &#39;name&#39; keys</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">escape_column_name</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.build_table" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">build_table</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span></code>

<a href="#synapseclient.table.build_table" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Build a Table object</p>
<p>:param name:    the name for the Table Schema object
:param parent:  the project in Synapse to which this table belongs
:param values:  an object that holds the content of the tables
                    - a string holding the path to a CSV file
                    - a Pandas <code>DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;</code>_</p>
<p>:return: a Table object suitable for storing</p>
<p>Example::</p>
<pre><code>path = "/path/to/file.csv"
table = build_table("simple_table", "syn123", path)
table = syn.store(table)

import pandas as pd

df = pd.DataFrame(dict(a=[1, 2, 3], b=["c", "d", "e"]))
table = build_table("simple_table", "syn123", df)
table = syn.store(table)
</code></pre>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_table</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build a Table object</span>

<span class="sd">    :param name:    the name for the Table Schema object</span>
<span class="sd">    :param parent:  the project in Synapse to which this table belongs</span>
<span class="sd">    :param values:  an object that holds the content of the tables</span>
<span class="sd">                        - a string holding the path to a CSV file</span>
<span class="sd">                        - a Pandas `DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;`_</span>

<span class="sd">    :return: a Table object suitable for storing</span>

<span class="sd">    Example::</span>

<span class="sd">        path = &quot;/path/to/file.csv&quot;</span>
<span class="sd">        table = build_table(&quot;simple_table&quot;, &quot;syn123&quot;, path)</span>
<span class="sd">        table = syn.store(table)</span>

<span class="sd">        import pandas as pd</span>

<span class="sd">        df = pd.DataFrame(dict(a=[1, 2, 3], b=[&quot;c&quot;, &quot;d&quot;, &quot;e&quot;]))</span>
<span class="sd">        table = build_table(&quot;simple_table&quot;, &quot;syn123&quot;, df)</span>
<span class="sd">        table = syn.store(table)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">test_import_pandas</span><span class="p">()</span>
    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Values of type </span><span class="si">%s</span><span class="s2"> is not yet supported.&quot;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">values</span><span class="p">))</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="n">as_table_columns</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
    <span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="n">SelectColumn</span><span class="o">.</span><span class="n">from_column</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">Table</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="synapseclient.table.Table" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">Table</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#synapseclient.table.Table" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

      <p>Combine a table schema and a set of values into some type of Table object
depending on what type of values are given.</p>
<p>:param schema: a table :py:class:<code>Schema</code> object or Synapse Id of Table.
:param values: an object that holds the content of the tables
                  - a :py:class:<code>RowSet</code>
                  - a list of lists (or tuples) where each element is a row
                  - a string holding the path to a CSV file
                  - a Pandas <code>DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;</code><em>
                  - a dict which will be wrapped by a Pandas                        <code>DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;</code></em></p>
<p>:return: a Table object suitable for storing</p>
<p>Usually, the immediate next step after creating a Table object is to store it::</p>
<pre><code>table = syn.store(Table(schema, values))
</code></pre>
<p>End users should not need to know the details of these Table subclasses:</p>
<ul>
<li>:py:class:<code>TableAbstractBaseClass</code></li>
<li>:py:class:<code>RowSetTable</code></li>
<li>:py:class:<code>TableQueryResult</code></li>
<li>:py:class:<code>CsvFileTable</code></li>
</ul>

          <details class="quote">
            <summary>Source code in <code>synapseclient/table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">Table</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combine a table schema and a set of values into some type of Table object</span>
<span class="sd">    depending on what type of values are given.</span>

<span class="sd">    :param schema: a table :py:class:`Schema` object or Synapse Id of Table.</span>
<span class="sd">    :param values: an object that holds the content of the tables</span>
<span class="sd">                      - a :py:class:`RowSet`</span>
<span class="sd">                      - a list of lists (or tuples) where each element is a row</span>
<span class="sd">                      - a string holding the path to a CSV file</span>
<span class="sd">                      - a Pandas `DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;`_</span>
<span class="sd">                      - a dict which will be wrapped by a Pandas \</span>
<span class="sd">                       `DataFrame &lt;http://pandas.pydata.org/pandas-docs/stable/api.html#dataframe&gt;`_</span>

<span class="sd">    :return: a Table object suitable for storing</span>

<span class="sd">    Usually, the immediate next step after creating a Table object is to store it::</span>

<span class="sd">        table = syn.store(Table(schema, values))</span>

<span class="sd">    End users should not need to know the details of these Table subclasses:</span>

<span class="sd">      - :py:class:`TableAbstractBaseClass`</span>
<span class="sd">      - :py:class:`RowSetTable`</span>
<span class="sd">      - :py:class:`TableQueryResult`</span>
<span class="sd">      - :py:class:`CsvFileTable`</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

        <span class="n">pandas_available</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">except</span><span class="p">:</span>  <span class="c1"># noqa</span>
        <span class="n">pandas_available</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># a RowSet</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">RowSet</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RowSetTable</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># a list of rows</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">CsvFileTable</span><span class="o">.</span><span class="n">from_list_of_rows</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># filename of a csv file</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CsvFileTable</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># pandas DataFrame</span>
    <span class="k">elif</span> <span class="n">pandas_available</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CsvFileTable</span><span class="o">.</span><span class="n">from_data_frame</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># dict</span>
    <span class="k">elif</span> <span class="n">pandas_available</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CsvFileTable</span><span class="o">.</span><span class="n">from_data_frame</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">values</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Don&#39;t know how to make tables from values of type </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>













              </article>
            </div>


<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>

      </main>

        <footer class="md-footer">



      <nav class="md-footer__inner md-grid" aria-label="Footer" >


          <a href="../annotations/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Annotations">
            <div class="md-footer__button md-icon">

              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Annotations
              </div>
            </div>
          </a>



          <a href="../table_schema/" class="md-footer__link md-footer__link--next" aria-label="Next: Table Schema">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Table Schema
              </div>
            </div>
            <div class="md-footer__button md-icon">

              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>

      </nav>


  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">


    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>

</div>

        <div class="md-social">








    <a href="https://github.com/Sage-Bionetworks/synapsePythonClient" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>








    <a href="https://github.com/Sage-Bionetworks/synapsePythonClient/pkgs/container/synapsepythonclient" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>








    <a href="https://pypi.org/project/synapseclient/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>

</div>

    </div>
  </div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>


    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.footer", "navigation.sections", "search.highlight", "search.share", "search.suggest", "toc.follow", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>


      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>

        <script src="../../termynal.js"></script>


  </body>
</html>
